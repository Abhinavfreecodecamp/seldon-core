
Showing logs for build [32mseldonio-seldon-core-pr-2023-in-qsxhx-22[0m stage [32mpr-build-comment[0m and container [32mstep-credential-initializer-hghnf[0m
{"level":"info","ts":1600706370.3832064,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/refs/heads/0.8.0-ns-support: no such file or directory"}
{"level":"info","ts":1600706370.3838613,"logger":"fallback-logger","caller":"creds-init/main.go:40","msg":"Credentials initialized."}

Showing logs for build [32mseldonio-seldon-core-pr-2023-in-qsxhx-22[0m stage [32mpr-build-comment[0m and container [32mstep-working-dir-initializer-4vpdf[0m
{"level":"info","ts":1600706371.4063017,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1600706371.4089677,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c mkdir -p /workspace/source\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2023-in-qsxhx-22[0m stage [32mpr-build-comment[0m and container [32mstep-place-tools[0m

Showing logs for build [32mseldonio-seldon-core-pr-2023-in-qsxhx-22[0m stage [32mpr-build-comment[0m and container [32mstep-create-dir-workspace-blpn7[0m
{"level":"info","ts":1600706378.6123502,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1600706378.6189156,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c mkdir -p source\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2023-in-qsxhx-22[0m stage [32mpr-build-comment[0m and container [32mstep-git-source-seldonio-seldon-core-pr-2023-in-qsxhx-z92mz[0m
{"level":"info","ts":1600706379.0651588,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/refs/heads/0.8.0-ns-support: no such file or directory"}
{"level":"info","ts":1600706388.3855958,"logger":"fallback-logger","caller":"git/git.go:103","msg":"Successfully cloned https://github.com/SeldonIO/seldon-core.git @ master in path /workspace/source"}

Showing logs for build [32mseldonio-seldon-core-pr-2023-in-qsxhx-22[0m stage [32mpr-build-comment[0m and container [32mstep-setup-builder-home[0m

Showing logs for build [32mseldonio-seldon-core-pr-2023-in-qsxhx-22[0m stage [32mpr-build-comment[0m and container [32mstep-git-merge[0m
Using SHAs from PULL_REFS=master:5bb8e8febe87244e73433bad4b488be75d5e62d9,2023:e0d07aee123da1d82f482f0d022906f71866d3fb
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git fetch origin --unshallow e0d07aee123da1d82f482f0d022906f71866d3fb: 5bb8e8febe87244e73433bad4b488be75d5e62d9:
DEBUG: ran git fetch --unshallow origin e0d07aee123da1d82f482f0d022906f71866d3fb: 5bb8e8febe87244e73433bad4b488be75d5e62d9: in 
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git branch
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git checkout master
DEBUG: ran git checkout master in 
DEBUG: JX_LOG_LEVEL=error LC_ALL=C git reset --hard 5bb8e8febe87244e73433bad4b488be75d5e62d9
DEBUG: ran git reset --hard 5bb8e8febe87244e73433bad4b488be75d5e62d9 in 
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git clean -fd .
DEBUG: ran clean --force -d . in 
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git merge e0d07aee123da1d82f482f0d022906f71866d3fb
DEBUG: ran git merge e0d07aee123da1d82f482f0d022906f71866d3fb in 
DEBUG: JX_LOG_LEVEL=error LC_ALL=C git log --format=%H%x1f%an%x1f%ae%x1f%cn%x1f%ce%x1f%s%n%b%x1e 5bb8e8febe87244e73433bad4b488be75d5e62d9..HEAD
Merged SHA e0d07aee123da1d82f482f0d022906f71866d3fb with commit message 'rebase' into base branch master
Merged SHA f3bf6449f4ad3e228201d48eb3c1224aea04650e with commit message 'update triton settings in container' into base branch master
Merged SHA 2ee0ecf537e4a2ecd2bb4bf3c8fc2f2d4b885059 with commit message 'add updated triton server fixes and example for tensorrt' into base branch master
Merged SHA f773e81daf07eeb8bbfff5922ff0961b48c4f2c7 with commit message 'address review comments' into base branch master
Merged SHA fe0853c0d8561a0a1b4c1aab1b358c9bc580534a with commit message 'Merge branch 'master' into 1648_v2_dataplane' into base branch master
Merged SHA f161cdb74f9fbcb558767c03a5641ca6212a2894 with commit message 'Update docs' into base branch master
Merged SHA f59936cb0a7892ab4fccc8e6ef74cea75f18a243 with commit message 'Update protocol example' into base branch master
Merged SHA 7564b69c50f5700a2a15832068edbd7053ec02d5 with commit message 'Update to triton 20-08 triton' into base branch master
Merged SHA 943a7cd84c5b01f659406e26422b9d69af589f74 with commit message 'rebase' into base branch master
Merged SHA c284bdfd446a85e03f897dd365f4106982f9536c with commit message 'Add examples to protocol notebook' into base branch master
Merged SHA dd9d16f364e9eceb71586b1a2e44a7225aca988d with commit message 'Update protos and local examples' into base branch master
Merged SHA 3a3a2b6ec3a5f787e61aca0711ea0035630444a6 with commit message 'update due to executor interface change and go.sum additions' into base branch master
Merged SHA 1b45df883e01bba4b5392921e1ab01b3ed3af1b4 with commit message 'rebase' into base branch master
Merged SHA 822b19acc0f961aba9643897e4319c5638a22425 with commit message 'Add v2 grpc implementation and local sample' into base branch master
Merged SHA 8f418297bc51a2f734c41953a5228de9043a625d with commit message 'Add kfserving API initial integration to executor for REST' into base branch master
Merged SHA 21d975f646ca5c8e13a1341950618eac82125e99 with commit message 'Merge branch 'master' into 1648_v2_dataplane' into base branch master
Merged SHA 6f21e36d858807a5cae36f7775f10104328f479f with commit message 'initial additions for triton server' into base branch master

Showing logs for build [32mseldonio-seldon-core-pr-2023-in-qsxhx-22[0m stage [32mpr-build-comment[0m and container [32mstep-step2[0m
+++ dirname ./add-pr-build-comment
++ cd .
++ pwd
+ STARTUP_DIR=/workspace/source/ci
+ REPO_OWNER=SeldonIO
+ REPO_NAME=seldon-core
+ PULL_NUMBER=2023
+ BUILD_NUMBER=22
+ PIPELINE_CONTEXT=integration
++ cat
+++ date
+ COMMENT_MSG='Mon Sep 21 16:39:56 UTC 2020
The logs for [integration] [22] will show after the pipeline context has finished.  
https://github.com/SeldonIO/seldon-core/blob/gh-pages/jenkins-x/logs/SeldonIO/seldon-core/PR-2023/22.log

impatient try  
** get build logs SeldonIO/seldon-core/PR-2023 --build=22'
+ ** step pr comment --owner=SeldonIO --repository=seldon-core --pull-request=2023 '--comment=Mon Sep 21 16:39:56 UTC 2020
The logs for [integration] [22] will show after the pipeline context has finished.  
https://github.com/SeldonIO/seldon-core/blob/gh-pages/jenkins-x/logs/SeldonIO/seldon-core/PR-2023/22.log

impatient try  
** get build logs SeldonIO/seldon-core/PR-2023 --build=22'

Showing logs for build [32mseldonio-seldon-core-pr-2023-in-qsxhx-22[0m stage [32mpr-build-comment[0m and container [32mstep-source-mkdir-seldonio-seldon-core-pr-2023-in-qsxhx-xsx9z[0m
{"level":"info","ts":1600706399.870226,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1600706399.8985295,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c mkdir -p /pvc/pr-build-comment/workspace\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2023-in-qsxhx-22[0m stage [32mpr-build-comment[0m and container [32mstep-source-copy-seldonio-seldon-core-pr-2023-in-qsxhx-s6tmk[0m
{"level":"info","ts":1600706400.306718,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1600706401.0927873,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c cp -r source/. /pvc/pr-build-comment/workspace\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2023-in-qsxhx-22[0m stage [32mend-to-end[0m and container [32mstep-credential-initializer-p9hnp[0m
{"level":"info","ts":1600706404.6487472,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/refs/heads/0.8.0-ns-support: no such file or directory"}
{"level":"info","ts":1600706404.6494021,"logger":"fallback-logger","caller":"creds-init/main.go:40","msg":"Credentials initialized."}

Showing logs for build [32mseldonio-seldon-core-pr-2023-in-qsxhx-22[0m stage [32mend-to-end[0m and container [32mstep-working-dir-initializer-dkk8p[0m
{"level":"info","ts":1600706406.1932702,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1600706406.194813,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c mkdir -p /workspace/source\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2023-in-qsxhx-22[0m stage [32mend-to-end[0m and container [32mstep-place-tools[0m

Showing logs for build [32mseldonio-seldon-core-pr-2023-in-qsxhx-22[0m stage [32mend-to-end[0m and container [32mstep-create-dir-workspace-28lv9[0m
{"level":"info","ts":1600706417.4691625,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1600706417.4721375,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c mkdir -p /workspace/source\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2023-in-qsxhx-22[0m stage [32mend-to-end[0m and container [32mstep-source-copy-workspace-s49zm[0m
{"level":"info","ts":1600706418.0935824,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1600706418.6364217,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c cp -r /pvc/pr-build-comment/workspace/. /workspace/source\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2023-in-qsxhx-22[0m stage [32mend-to-end[0m and container [32mstep-setup-builder-home[0m

Showing logs for build [32mseldonio-seldon-core-pr-2023-in-qsxhx-22[0m stage [32mend-to-end[0m and container [32mstep-test-end-to-end[0m
Test run type is: [base]
Starting Docker: docker.
[SETUP] Waiting for Docker to be ready, sleeping for 1 seconds ...
kind create cluster --config ../resources/kind_config.yaml
Creating cluster "kind" ...
 • Ensuring node image (kindest/node:v1.16.3) 🖼  ...
 ✓ Ensuring node image (kindest/node:v1.16.3) 🖼
 • Preparing nodes 📦  ...
 ✓ Preparing nodes 📦
 • Writing configuration 📜  ...
 ✓ Writing configuration 📜
 • Starting control-plane 🕹️  ...
 ✓ Starting control-plane 🕹️
 • Installing CNI 🔌  ...
 ✓ Installing CNI 🔌
 • Installing StorageClass 💾  ...
 ✓ Installing StorageClass 💾
 • Joining worker nodes 🚜  ...
 ✓ Joining worker nodes 🚜
Set kubectl context to "kind-kind"
You can now use your cluster with:

kubectl cluster-info --context kind-kind

Not sure what to do next? 😅 Check out https://kind.sigs.k8s.io/docs/user/quick-start/
`kind get kubeconfig-path` is deprecated!

KIND will export and merge kubeconfig like kops, minikube, etc.
This command is now unnecessary and will be removed in a future release.

For more info see: https://github.com/kubernetes-sigs/kind/issues/1060
See also the output of `kind create cluster`

Files changed in python folder:
SKIPPING PYTHON IMAGE BUILD...
Files changed in operator folder:
operator/apis/machinelearning.seldon.io/v1/prepack.go
operator/apis/machinelearning.seldon.io/v1/seldondeployment_types.go
operator/apis/machinelearning.seldon.io/v1/seldondeployment_webhook.go
operator/apis/machinelearning.seldon.io/v1/seldondeployment_webhook_test.go
operator/config/manager/configmap.yaml
operator/constants/constants.go
operator/controllers/seldondeployment_prepackaged_servers.go
operator/controllers/seldondeployment_prepackaged_servers_test.go
operator/controllers/suite_test.go
cd ../../operator && make kind-image-install
make[1]: Entering directory '/workspace/source/operator'
go: creating new go.mod: module tmp
go: downloading sigs.k8s.io/controller-tools v0.2.5
go: found sigs.k8s.io/controller-tools/cmd/controller-gen in sigs.k8s.io/controller-tools v0.2.5
go: downloading k8s.io/apiextensions-apiserver v0.17.0
go: downloading k8s.io/apimachinery v0.17.0
go: downloading sigs.k8s.io/yaml v1.1.0
go: downloading gopkg.in/yaml.v3 v3.0.0-20190905181640-827449938966
go: downloading github.com/gobuffalo/flect v0.2.0
go: downloading golang.org/x/tools v0.0.0-20190920225731-5eefd052ad72
go: downloading k8s.io/api v0.17.0
go: downloading github.com/spf13/cobra v0.0.5
go: downloading gopkg.in/yaml.v2 v2.2.4
go: downloading github.com/spf13/pflag v1.0.5
go: downloading github.com/inconshreveable/mousetrap v1.0.0
go: downloading k8s.io/utils v0.0.0-20191114184206-e782cd3c129f
go: downloading github.com/gogo/protobuf v1.2.2-0.20190723190241-65acae22fc9d
go: downloading github.com/google/gofuzz v1.0.0
go: downloading k8s.io/klog v1.0.0
go: downloading golang.org/x/net v0.0.0-20191004110552-13f9640d40b9
go: downloading gopkg.in/inf.v0 v0.9.1
go: downloading github.com/fatih/color v1.7.0
go: downloading github.com/mattn/go-isatty v0.0.8
go: downloading github.com/mattn/go-colorable v0.1.2
go: downloading golang.org/x/sys v0.0.0-20190826190057-c7b8b68b1456
go: downloading golang.org/x/text v0.3.2
/builder/home/go/bin/controller-gen object:headerFile=./hack/boilerplate.go.txt paths="./..."
go fmt ./...
go vet ./...
go: downloading github.com/onsi/gomega v1.10.1
go: downloading github.com/onsi/ginkgo v1.14.0
go: downloading golang.org/x/xerrors v0.0.0-20191204190536-9bdfabe68543
go: downloading github.com/nxadm/tail v1.4.4
go: downloading gopkg.in/tomb.v1 v1.0.0-20141024135613-dd632973f1e7
# github.com/seldonio/seldon-core/operator/controllers
controllers/seldondeployment_prepackaged_servers.go:244:27: not enough arguments in call to NewModelInitializer
	have (kubernetes.Interface)
	want (context.Context, kubernetes.Interface)
# github.com/seldonio/seldon-core/operator/controllers
vet: controllers/seldondeployment_prepackaged_servers.go:244:28: cannot use pi.clientset (variable of type kubernetes.Interface) as context.Context value in argument to NewModelInitializer: missing method Deadline
make[1]: Leaving directory '/workspace/source/operator'
make[1]: *** [Makefile:134: vet] Error 2
make: *** [Makefile:18: kind_build_operator] Error 2
Operator build returned errors
kind delete cluster
Deleting cluster "kind" ...
Stopping Docker: dockerProgram process in pidfile '/var/run/docker-ssd.pid', 1 process(es), refused to die.
[31m
Pipeline failed on stage 'end-to-end' : container 'step-test-end-to-end'. The execution of the pipeline has stopped.[0m
