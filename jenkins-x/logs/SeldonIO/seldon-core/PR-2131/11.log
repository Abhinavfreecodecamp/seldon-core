
Showing logs for build [32mseldonio-seldon-core-pr-2131-no-jzp9w-11[0m stage [32mpr-build-comment[0m and container [32mstep-credential-initializer-gtwdz[0m
{"level":"info","ts":1595242805.2206204,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/refs/heads/0.8.0-ns-support: no such file or directory"}
{"level":"info","ts":1595242805.221296,"logger":"fallback-logger","caller":"creds-init/main.go:40","msg":"Credentials initialized."}

Showing logs for build [32mseldonio-seldon-core-pr-2131-no-jzp9w-11[0m stage [32mpr-build-comment[0m and container [32mstep-working-dir-initializer-l8f64[0m
{"level":"info","ts":1595242806.9642415,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1595242806.968088,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c mkdir -p /workspace/source\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2131-no-jzp9w-11[0m stage [32mpr-build-comment[0m and container [32mstep-place-tools[0m

Showing logs for build [32mseldonio-seldon-core-pr-2131-no-jzp9w-11[0m stage [32mpr-build-comment[0m and container [32mstep-create-dir-workspace-dfblk[0m
{"level":"info","ts":1595242823.5852885,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1595242823.5876153,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c mkdir -p source\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2131-no-jzp9w-11[0m stage [32mpr-build-comment[0m and container [32mstep-git-source-seldonio-seldon-core-pr-2131-no-jzp9w-984ks[0m
{"level":"info","ts":1595242824.394079,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/refs/heads/0.8.0-ns-support: no such file or directory"}
{"level":"info","ts":1595242829.7837112,"logger":"fallback-logger","caller":"git/git.go:103","msg":"Successfully cloned https://github.com/SeldonIO/seldon-core.git @ master in path /workspace/source"}

Showing logs for build [32mseldonio-seldon-core-pr-2131-no-jzp9w-11[0m stage [32mpr-build-comment[0m and container [32mstep-setup-builder-home[0m

Showing logs for build [32mseldonio-seldon-core-pr-2131-no-jzp9w-11[0m stage [32mpr-build-comment[0m and container [32mstep-git-merge[0m
Using SHAs from PULL_REFS=master:15671b9bf7b7a5416a8b19f03e8ccc6a69a9998e,2131:def3eb4c5c4b13516e80845aeb030630efdc7e81
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git fetch origin --unshallow def3eb4c5c4b13516e80845aeb030630efdc7e81: 15671b9bf7b7a5416a8b19f03e8ccc6a69a9998e:
DEBUG: ran git fetch --unshallow origin def3eb4c5c4b13516e80845aeb030630efdc7e81: 15671b9bf7b7a5416a8b19f03e8ccc6a69a9998e: in 
DEBUG: JX_LOG_LEVEL=error LC_ALL=C git branch
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git checkout master
DEBUG: ran git checkout master in 
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git reset --hard 15671b9bf7b7a5416a8b19f03e8ccc6a69a9998e
DEBUG: ran git reset --hard 15671b9bf7b7a5416a8b19f03e8ccc6a69a9998e in 
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git clean -fd .
DEBUG: ran clean --force -d . in 
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git merge def3eb4c5c4b13516e80845aeb030630efdc7e81
DEBUG: ran git merge def3eb4c5c4b13516e80845aeb030630efdc7e81 in 
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git log --format=%H%x1f%an%x1f%ae%x1f%cn%x1f%ce%x1f%s%n%b%x1e 15671b9bf7b7a5416a8b19f03e8ccc6a69a9998e..HEAD
Merged SHA 8cb64b8e770cf7cfd5060e69eef5388918f923c4 with commit message 'Merge commit 'def3eb4c5c4b13516e80845aeb030630efdc7e81'' into base branch master
Merged SHA def3eb4c5c4b13516e80845aeb030630efdc7e81 with commit message 'feat(service): Update service port names for istio support' into base branch master

Showing logs for build [32mseldonio-seldon-core-pr-2131-no-jzp9w-11[0m stage [32mpr-build-comment[0m and container [32mstep-step2[0m
+++ dirname ./add-pr-build-comment
++ cd .
++ pwd
+ STARTUP_DIR=/workspace/source/ci
+ REPO_OWNER=SeldonIO
+ REPO_NAME=seldon-core
+ PULL_NUMBER=2131
+ BUILD_NUMBER=11
+ PIPELINE_CONTEXT=notebooks
++ cat
+++ date
+ COMMENT_MSG='Mon Jul 20 11:00:45 UTC 2020
The logs for [notebooks] [11] will show after the pipeline context has finished.  
https://github.com/SeldonIO/seldon-core/blob/gh-pages/jenkins-x/logs/SeldonIO/seldon-core/PR-2131/11.log

impatient try  
** get build logs SeldonIO/seldon-core/PR-2131 --build=11'
+ ** step pr comment --owner=SeldonIO --repository=seldon-core --pull-request=2131 '--comment=Mon Jul 20 11:00:45 UTC 2020
The logs for [notebooks] [11] will show after the pipeline context has finished.  
https://github.com/SeldonIO/seldon-core/blob/gh-pages/jenkins-x/logs/SeldonIO/seldon-core/PR-2131/11.log

impatient try  
** get build logs SeldonIO/seldon-core/PR-2131 --build=11'

Showing logs for build [32mseldonio-seldon-core-pr-2131-no-jzp9w-11[0m stage [32mpr-build-comment[0m and container [32mstep-source-mkdir-seldonio-seldon-core-pr-2131-no-jzp9w-st6lw[0m
{"level":"info","ts":1595242847.8972151,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1595242847.9093094,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c mkdir -p /pvc/pr-build-comment/workspace\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2131-no-jzp9w-11[0m stage [32mpr-build-comment[0m and container [32mstep-source-copy-seldonio-seldon-core-pr-2131-no-jzp9w-x2qtl[0m
{"level":"info","ts":1595242848.79235,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1595242849.49174,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c cp -r source/. /pvc/pr-build-comment/workspace\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2131-no-jzp9w-11[0m stage [32mend-to-end[0m and container [32mstep-credential-initializer-s7dpg[0m
{"level":"info","ts":1595242925.1724021,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/refs/heads/0.8.0-ns-support: no such file or directory"}
{"level":"info","ts":1595242925.1728635,"logger":"fallback-logger","caller":"creds-init/main.go:40","msg":"Credentials initialized."}

Showing logs for build [32mseldonio-seldon-core-pr-2131-no-jzp9w-11[0m stage [32mend-to-end[0m and container [32mstep-working-dir-initializer-h9m6r[0m
{"level":"info","ts":1595242927.345339,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1595242927.3465633,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c mkdir -p /workspace/source\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2131-no-jzp9w-11[0m stage [32mend-to-end[0m and container [32mstep-place-tools[0m

Showing logs for build [32mseldonio-seldon-core-pr-2131-no-jzp9w-11[0m stage [32mend-to-end[0m and container [32mstep-create-dir-workspace-wfjnr[0m
{"level":"info","ts":1595243087.0298727,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1595243087.0312476,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c mkdir -p /workspace/source\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2131-no-jzp9w-11[0m stage [32mend-to-end[0m and container [32mstep-source-copy-workspace-ht5gx[0m
{"level":"info","ts":1595243087.1651425,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1595243127.613033,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c cp -r /pvc/pr-build-comment/workspace/. /workspace/source\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2131-no-jzp9w-11[0m stage [32mend-to-end[0m and container [32mstep-setup-builder-home[0m

Showing logs for build [32mseldonio-seldon-core-pr-2131-no-jzp9w-11[0m stage [32mend-to-end[0m and container [32mstep-test-end-to-end[0m
Test run type is: [notebooks]
Starting Docker: docker.
[SETUP] Waiting for Docker to be ready, sleeping for 1 seconds ...
kind create cluster --config ../resources/kind_config.yaml
Creating cluster "kind" ...
 ‚Ä¢ Ensuring node image (kindest/node:v1.16.3) üñº  ...
 ‚úì Ensuring node image (kindest/node:v1.16.3) üñº
 ‚Ä¢ Preparing nodes üì¶  ...
 ‚úì Preparing nodes üì¶
 ‚Ä¢ Writing configuration üìú  ...
 ‚úì Writing configuration üìú
 ‚Ä¢ Starting control-plane üïπÔ∏è  ...
 ‚úì Starting control-plane üïπÔ∏è
 ‚Ä¢ Installing CNI üîå  ...
 ‚úì Installing CNI üîå
 ‚Ä¢ Installing StorageClass üíæ  ...
 ‚úì Installing StorageClass üíæ
 ‚Ä¢ Joining worker nodes üöú  ...
 ‚úì Joining worker nodes üöú
Set kubectl context to "kind-kind"
You can now use your cluster with:

kubectl cluster-info --context kind-kind

Not sure what to do next? üòÖ Check out https://kind.sigs.k8s.io/docs/user/quick-start/
`kind get kubeconfig-path` is deprecated!

KIND will export and merge kubeconfig like kops, minikube, etc.
This command is now unnecessary and will be removed in a future release.

For more info see: https://github.com/kubernetes-sigs/kind/issues/1060
See also the output of `kind create cluster`

Files changed in python folder:
SKIPPING PYTHON IMAGE BUILD...
Files changed in operator folder:
operator/controllers/seldondeployment_controller.go
cd ../../operator && make kind-image-install
make[1]: Entering directory '/workspace/source/operator'
go: creating new go.mod: module tmp
go: finding sigs.k8s.io v0.2.5
go: finding sigs.k8s.io/controller-tools/cmd v0.2.5
go: finding sigs.k8s.io/controller-tools v0.2.5
go: finding sigs.k8s.io/controller-tools/cmd/controller-gen v0.2.5
go: downloading sigs.k8s.io/controller-tools v0.2.5
go: extracting sigs.k8s.io/controller-tools v0.2.5
go: downloading k8s.io/apimachinery v0.17.0
go: downloading k8s.io/apiextensions-apiserver v0.17.0
go: downloading sigs.k8s.io/yaml v1.1.0
go: downloading github.com/spf13/cobra v0.0.5
go: downloading k8s.io/api v0.17.0
go: downloading golang.org/x/tools v0.0.0-20190920225731-5eefd052ad72
go: downloading gopkg.in/yaml.v3 v3.0.0-20190905181640-827449938966
go: extracting sigs.k8s.io/yaml v1.1.0
go: extracting github.com/spf13/cobra v0.0.5
go: downloading gopkg.in/yaml.v2 v2.2.4
go: downloading github.com/spf13/pflag v1.0.5
go: extracting gopkg.in/yaml.v3 v3.0.0-20190905181640-827449938966
go: extracting k8s.io/apiextensions-apiserver v0.17.0
go: extracting github.com/spf13/pflag v1.0.5
go: extracting gopkg.in/yaml.v2 v2.2.4
go: downloading github.com/gobuffalo/flect v0.2.0
go: extracting k8s.io/apimachinery v0.17.0
go: extracting github.com/gobuffalo/flect v0.2.0
go: downloading github.com/fatih/color v1.7.0
go: downloading github.com/gogo/protobuf v1.2.2-0.20190723190241-65acae22fc9d
go: extracting github.com/fatih/color v1.7.0
go: downloading github.com/mattn/go-isatty v0.0.8
go: downloading github.com/google/gofuzz v1.0.0
go: downloading k8s.io/utils v0.0.0-20191114184206-e782cd3c129f
go: downloading github.com/inconshreveable/mousetrap v1.0.0
go: downloading k8s.io/klog v1.0.0
go: extracting golang.org/x/tools v0.0.0-20190920225731-5eefd052ad72
go: extracting github.com/mattn/go-isatty v0.0.8
go: downloading gopkg.in/inf.v0 v0.9.1
go: extracting github.com/google/gofuzz v1.0.0
go: extracting github.com/inconshreveable/mousetrap v1.0.0
go: downloading golang.org/x/sys v0.0.0-20190826190057-c7b8b68b1456
go: downloading github.com/mattn/go-colorable v0.1.2
go: extracting k8s.io/klog v1.0.0
go: extracting gopkg.in/inf.v0 v0.9.1
go: downloading golang.org/x/net v0.0.0-20191004110552-13f9640d40b9
go: extracting github.com/mattn/go-colorable v0.1.2
go: extracting k8s.io/utils v0.0.0-20191114184206-e782cd3c129f
go: extracting k8s.io/api v0.17.0
go: extracting github.com/gogo/protobuf v1.2.2-0.20190723190241-65acae22fc9d
go: extracting golang.org/x/sys v0.0.0-20190826190057-c7b8b68b1456
go: extracting golang.org/x/net v0.0.0-20191004110552-13f9640d40b9
go: downloading golang.org/x/text v0.3.2
go: extracting golang.org/x/text v0.3.2
go: finding github.com/spf13/cobra v0.0.5
go: finding k8s.io/api v0.17.0
go: finding github.com/fatih/color v1.7.0
go: finding gopkg.in/yaml.v3 v3.0.0-20190905181640-827449938966
go: finding k8s.io/apimachinery v0.17.0
go: finding k8s.io/apiextensions-apiserver v0.17.0
go: finding golang.org/x/tools v0.0.0-20190920225731-5eefd052ad72
go: finding github.com/gobuffalo/flect v0.2.0
go: finding sigs.k8s.io/yaml v1.1.0
go: finding github.com/gogo/protobuf v1.2.2-0.20190723190241-65acae22fc9d
go: finding github.com/spf13/pflag v1.0.5
go: finding github.com/google/gofuzz v1.0.0
go: finding github.com/mattn/go-colorable v0.1.2
go: finding k8s.io/utils v0.0.0-20191114184206-e782cd3c129f
go: finding gopkg.in/inf.v0 v0.9.1
go: finding github.com/mattn/go-isatty v0.0.8
go: finding k8s.io/klog v1.0.0
go: finding golang.org/x/net v0.0.0-20191004110552-13f9640d40b9
go: finding golang.org/x/sys v0.0.0-20190826190057-c7b8b68b1456
go: finding golang.org/x/text v0.3.2
go: finding gopkg.in/yaml.v2 v2.2.4
/builder/home/go/bin/controller-gen object:headerFile=./hack/boilerplate.go.txt paths="./..."
go fmt ./...
go vet ./...
go: downloading github.com/onsi/gomega v1.10.1
go: downloading github.com/onsi/ginkgo v1.14.0
go: extracting github.com/onsi/ginkgo v1.14.0
go: extracting github.com/onsi/gomega v1.10.1
go: downloading golang.org/x/xerrors v0.0.0-20191204190536-9bdfabe68543
go: downloading github.com/nxadm/tail v1.4.4
go: extracting github.com/nxadm/tail v1.4.4
go: extracting golang.org/x/xerrors v0.0.0-20191204190536-9bdfabe68543
go: downloading gopkg.in/tomb.v1 v1.0.0-20141024135613-dd632973f1e7
go: downloading github.com/fsnotify/fsnotify v1.4.9
go: extracting github.com/fsnotify/fsnotify v1.4.9
go: extracting gopkg.in/tomb.v1 v1.0.0-20141024135613-dd632973f1e7
go: finding github.com/onsi/gomega v1.10.1
go: finding golang.org/x/xerrors v0.0.0-20191204190536-9bdfabe68543
go: finding github.com/onsi/ginkgo v1.14.0
go: finding github.com/nxadm/tail v1.4.4
go: finding gopkg.in/tomb.v1 v1.0.0-20141024135613-dd632973f1e7
/builder/home/go/bin/controller-gen "crd:trivialVersions=true" rbac:roleName=manager-role webhook paths="./..." output:crd:artifacts:config=config/crd/bases
rm -rf generated
mkdir generated
kustomize build config/default/ -o generated
cp generated/apiextensions.k8s.io_v1beta1_customresourcedefinition_seldondeployments.machinelearning.seldon.io.yaml testing/machinelearning.seldon.io_seldondeployments.yaml
ginkgo -r -outputdir=. -cover -coverprofile=cover.out ./controllers ./utils ./apis
[1595243400] [1mController Suite[0m - 37/37 specs test k8s client
&{Reader:0xc0006505a0 Writer:0xc000e28e70 StatusClient:0xc000e28e70}

[90m------------------------------[0m
[32m‚Ä¢ [SLOW TEST:6.115 seconds][0m
[90mCreate a Seldon Deployment with long name [0m[0mshould create a resource with defaults [0m
[37m/workspace/source/operator/controllers/seldondeployment_controller_test.go:712[0m
[90m------------------------------[0m
[32m‚Ä¢ [SLOW TEST:6.168 seconds][0m
[90mCreate a prepacked tfserving server for tensorflow protocol and REST with existing container [0m[0mshould create a resource with defaults [0m
[37m/workspace/source/operator/controllers/seldondeployment_prepackaged_servers_test.go:275[0m
[90m------------------------------[0m
[32m‚Ä¢ [SLOW TEST:5.548 seconds][0m
[90mCreate a Seldon Deployment with two ComponentSpecs [0m[0mshould create the correct resources [0m
[37m/workspace/source/operator/controllers/seldondeployment_controller_test.go:264[0m
[90m------------------------------[0m
[32m‚Ä¢[0m[32m‚Ä¢[0m[32m‚Ä¢[0m[32m‚Ä¢[0m[32m‚Ä¢[0m[32m‚Ä¢[0m[32m‚Ä¢[0m[32m‚Ä¢[0m[32m‚Ä¢[0m[32m‚Ä¢[0m[32m‚Ä¢[0m[32m‚Ä¢[0m[32m‚Ä¢[0m[32m‚Ä¢[0m[32m‚Ä¢[0m[32m‚Ä¢[0m[32m‚Ä¢[0m[32m‚Ä¢[0m[32m‚Ä¢[0m[32m‚Ä¢[0m[32m‚Ä¢[0m[32m‚Ä¢[0m[32m‚Ä¢[0m[32m‚Ä¢[0m[32m‚Ä¢[0m[32m‚Ä¢[0m[32m‚Ä¢[0m[32m‚Ä¢[0m[32m‚Ä¢[0m[32m‚Ä¢[0m[32m‚Ä¢[0m[32m‚Ä¢[0m[32m‚Ä¢[0m[32m‚Ä¢[0mE0720 11:12:17.768145   28122 reflector.go:309] pkg/mod/k8s.io/client-go@v0.17.8/tools/cache/reflector.go:105: Failed to watch *v1.Namespace: Get http://127.0.0.1:38049/api/v1/namespaces?allowWatchBookmarks=true&resourceVersion=327&timeoutSeconds=360&watch=true: dial tcp 127.0.0.1:38049: connect: connection refused
E0720 11:12:17.768149   28122 reflector.go:309] pkg/mod/k8s.io/client-go@v0.17.8/tools/cache/reflector.go:105: Failed to watch *v1alpha3.VirtualService: Get http://127.0.0.1:38049/apis/networking.istio.io/v1alpha3/virtualservices?allowWatchBookmarks=true&resourceVersion=119&timeoutSeconds=384&watch=true: dial tcp 127.0.0.1:38049: connect: connection refused
E0720 11:12:17.768145   28122 reflector.go:309] pkg/mod/k8s.io/client-go@v0.17.8/tools/cache/reflector.go:105: Failed to watch *v1.Deployment: Get http://127.0.0.1:38049/apis/apps/v1/deployments?allowWatchBookmarks=true&resourceVersion=357&timeoutSeconds=387&watch=true: dial tcp 127.0.0.1:38049: connect: connection refused
E0720 11:12:17.768216   28122 reflector.go:309] pkg/mod/k8s.io/client-go@v0.17.8/tools/cache/reflector.go:105: Failed to watch *v1.Service: Get http://127.0.0.1:38049/api/v1/services?allowWatchBookmarks=true&resourceVersion=355&timeoutSeconds=365&watch=true: dial tcp 127.0.0.1:38049: connect: connection refused
E0720 11:12:17.768222   28122 reflector.go:309] pkg/mod/k8s.io/client-go@v0.17.8/tools/cache/reflector.go:105: Failed to watch *v1.ConfigMap: Get http://127.0.0.1:38049/api/v1/configmaps?allowWatchBookmarks=true&resourceVersion=118&timeoutSeconds=440&watch=true: dial tcp 127.0.0.1:38049: connect: connection refused
E0720 11:12:17.768359   28122 reflector.go:309] pkg/mod/k8s.io/client-go@v0.17.8/tools/cache/reflector.go:105: Failed to watch *v1.SeldonDeployment: Get http://127.0.0.1:38049/apis/machinelearning.seldon.io/v1/seldondeployments?allowWatchBookmarks=true&resourceVersion=364&timeoutSeconds=503&watch=true: dial tcp 127.0.0.1:38049: connect: connection refused
E0720 11:12:17.768388   28122 reflector.go:309] pkg/mod/k8s.io/client-go@v0.17.8/tools/cache/reflector.go:105: Failed to watch *v2beta1.HorizontalPodAutoscaler: Get http://127.0.0.1:38049/apis/autoscaling/v2beta1/horizontalpodautoscalers?allowWatchBookmarks=true&resourceVersion=258&timeoutSeconds=395&watch=true: dial tcp 127.0.0.1:38049: connect: connection refused

 [32mSUCCESS![0m 1m18.908008759s PASS
coverage: 65.3% of statements
=== RUN   TestGcsSecret
--- PASS: TestGcsSecret (0.00s)
PASS
coverage: 100.0% of statements
=== RUN   TestS3Secret
--- PASS: TestS3Secret (0.00s)
PASS
coverage: 94.6% of statements
=== RUN   TestGetEnvAsBool
--- PASS: TestGetEnvAsBool (0.00s)
PASS
coverage: 10.9% of statements
=== RUN   TestGenerateCerts
--- PASS: TestGenerateCerts (5.95s)
=== RUN   TestConfigmapCreate
--- PASS: TestConfigmapCreate (0.00s)
=== RUN   TestCRDCreate
--- PASS: TestCRDCreate (0.14s)
=== RUN   TestMutatingWebhookCreate
--- PASS: TestMutatingWebhookCreate (3.82s)
=== RUN   TestMutatingWebhookCreateNamespaced
--- PASS: TestMutatingWebhookCreateNamespaced (3.69s)
=== RUN   TestValidatingWebhookCreate
--- PASS: TestValidatingWebhookCreate (1.48s)
=== RUN   TestValidatingWebhookCreateNamespaced
--- PASS: TestValidatingWebhookCreateNamespaced (2.53s)
=== RUN   TestWebHookSvcCreate
--- PASS: TestWebHookSvcCreate (2.17s)
PASS
coverage: 52.1% of statements
=== RUN   TestImageSetNormal
--- PASS: TestImageSetNormal (0.01s)
    prepack_test.go:50: Scenario: REST image with no version
    prepack_test.go:50: Scenario: GRPC image with version
    prepack_test.go:50: Scenario: GRPC image with no version
    prepack_test.go:50: Scenario: REST image with version
=== RUN   TestGetPredictorConfig
--- PASS: TestGetPredictorConfig (0.00s)
    prepack_test.go:81: Scenario: related image sklearn
    prepack_test.go:81: Scenario: default image sklearn
=== RUN   TestGetDeploymentNameOneModel
--- PASS: TestGetDeploymentNameOneModel (0.00s)
=== RUN   TestGetDeploymentNameLong
--- PASS: TestGetDeploymentNameLong (0.00s)
=== RUN   TestValidateBadProtocol
--- PASS: TestValidateBadProtocol (0.00s)
=== RUN   TestValidateBadTransport
--- PASS: TestValidateBadTransport (0.00s)
=== RUN   TestValidateMixedTransport
--- PASS: TestValidateMixedTransport (0.00s)
=== RUN   TestValidateMixedMultipleTransport
--- PASS: TestValidateMixedMultipleTransport (0.00s)
=== RUN   TestDefaultSingleContainer
--- PASS: TestDefaultSingleContainer (0.00s)
=== RUN   TestMetricsPortAddedTwoContainers
--- PASS: TestMetricsPortAddedTwoContainers (0.00s)
=== RUN   TestMetricsPortAddedTwoComponentSpecsTwoContainers
--- PASS: TestMetricsPortAddedTwoComponentSpecsTwoContainers (0.00s)
=== RUN   TestOverrideMetricsPortName
Failed to find config map seldon-config
no kind is registered for the type v1.ConfigMap in scheme "pkg/runtime/scheme.go:101"
--- PASS: TestOverrideMetricsPortName (0.00s)
=== RUN   TestPortUseExisting
--- PASS: TestPortUseExisting (0.00s)
=== RUN   TestMetricsPortAddedToPrepacked
--- PASS: TestMetricsPortAddedToPrepacked (0.00s)
=== RUN   TestPredictorProtocolGrpc
--- PASS: TestPredictorProtocolGrpc (0.01s)
=== RUN   TestPrepackedWithExistingContainer
--- PASS: TestPrepackedWithExistingContainer (0.01s)
=== RUN   TestPrepackedWithCustom
--- PASS: TestPrepackedWithCustom (0.00s)
=== RUN   TestPrepackedWithExistingContainerAndImage
--- PASS: TestPrepackedWithExistingContainerAndImage (0.00s)
=== RUN   TestMetricsPortAddedToTwoPrepacked
--- PASS: TestMetricsPortAddedToTwoPrepacked (0.00s)
=== RUN   TestDefaultPrepackagedServerType
--- PASS: TestDefaultPrepackagedServerType (0.01s)
=== RUN   TestValidateSingleModel
--- PASS: TestValidateSingleModel (0.00s)
=== RUN   TestValidateSingleModelNoName
--- PASS: TestValidateSingleModelNoName (0.00s)
=== RUN   TestValidateNoEngineMultiGraph
--- PASS: TestValidateNoEngineMultiGraph (0.00s)
=== RUN   TestValidateDuplPredictorName
--- PASS: TestValidateDuplPredictorName (0.00s)
=== RUN   TestValidateTrafficSum
--- PASS: TestValidateTrafficSum (0.00s)
=== RUN   TestDefaultABTest
--- PASS: TestDefaultABTest (0.00s)
=== RUN   TestValidateTensorflowProtocolNormalPrepackaged
--- PASS: TestValidateTensorflowProtocolNormalPrepackaged (0.00s)
=== RUN   TestValidateTensorflowProtocolNormal
--- PASS: TestValidateTensorflowProtocolNormal (0.00s)
=== RUN   TestPredictorNoGraph
--- PASS: TestPredictorNoGraph (0.00s)
PASS
coverage: 41.6% of statements
path is /workspace/source/operator
All profiles combined

Ginkgo ran 6 suites in 2m38.20050132s
Test Suite Passed
docker build . -t seldonio/seldon-core-operator:1.2.2-dev
Sending build context to Docker daemon  7.602MB
Step 1/22 : FROM golang:1.13.2 as builder
1.13.2: Pulling from library/golang
c7b7d16361e0: Pulling fs layer
b7a128769df1: Pulling fs layer
1128949d0793: Pulling fs layer
667692510b70: Pulling fs layer
c70d80036479: Pulling fs layer
a8669f8c1a42: Pulling fs layer
433331673060: Pulling fs layer
667692510b70: Waiting
c70d80036479: Waiting
a8669f8c1a42: Waiting
433331673060: Waiting
1128949d0793: Verifying Checksum
1128949d0793: Download complete
b7a128769df1: Verifying Checksum
b7a128769df1: Download complete
c7b7d16361e0: Verifying Checksum
c7b7d16361e0: Download complete
667692510b70: Verifying Checksum
667692510b70: Download complete
c70d80036479: Verifying Checksum
c70d80036479: Download complete
433331673060: Verifying Checksum
433331673060: Download complete
a8669f8c1a42: Verifying Checksum
a8669f8c1a42: Download complete
c7b7d16361e0: Pull complete
b7a128769df1: Pull complete
1128949d0793: Pull complete
667692510b70: Pull complete
c70d80036479: Pull complete
a8669f8c1a42: Pull complete
433331673060: Pull complete
Digest: sha256:b3086f21bfbe896973dd6147b46f2736a7deb2c04ed76219835befa0244a9562
Status: Downloaded newer image for golang:1.13.2
 ---> e37698ff7351
Step 2/22 : WORKDIR /workspace
 ---> Running in 2594bb9bdb41
Removing intermediate container 2594bb9bdb41
 ---> 799117e4ea16
Step 3/22 : COPY go.mod go.mod
 ---> d542303e330f
Step 4/22 : COPY go.sum go.sum
 ---> e339e3f8845d
Step 5/22 : RUN go mod download
 ---> Running in 9d71532221fb
[91mgo: finding cloud.google.com/go v0.38.0
[0m[91mgo: finding github.com/Azure/go-ansiterm v0.0.0-20170929234023-d6e3b3328b78
[0m[91mgo: finding github.com/Azure/go-autorest v14.2.0+incompatible
[0m[91mgo: finding github.com/Azure/go-autorest/autorest v0.9.0
[0m[91mgo: finding github.com/Azure/go-autorest/autorest/adal v0.9.0
[0m[91mgo: finding github.com/Azure/go-autorest/autorest/date v0.3.0
[0m[91mgo: finding github.com/Azure/go-autorest/autorest/mocks v0.4.0
[0m[91mgo: finding github.com/Azure/go-autorest/logger v0.1.0
[0m[91mgo: finding github.com/Azure/go-autorest/tracing v0.6.0
[0m[91mgo: finding github.com/BurntSushi/toml v0.3.1
[0m[91mgo: finding github.com/BurntSushi/xgb v0.0.0-20160522181843-27f122750802
[0m[91mgo: finding github.com/NYTimes/gziphandler v0.0.0-20170623195520-56545f4a5d46
[0m[91mgo: finding github.com/PuerkitoBio/purell v1.1.1
[0m[91mgo: finding github.com/PuerkitoBio/urlesc v0.0.0-20170810143723-de5bf2ad4578
[0m[91mgo: finding github.com/agnivade/levenshtein v1.0.1
[0m[91mgo: finding github.com/alecthomas/template v0.0.0-20160405071501-a0175ee3bccc
[0m[91mgo: finding github.com/alecthomas/units v0.0.0-20151022065526-2efee857e7cf
[0m[91mgo: finding github.com/andreyvit/diff v0.0.0-20170406064948-c7f18ee00883
[0m[91mgo: finding github.com/armon/consul-api v0.0.0-20180202201655-eb2c6b5be1b6
[0m[91mgo: finding github.com/asaskevich/govalidator v0.0.0-20190424111038-f61b66f89f4a
[0m[91mgo: finding github.com/beorn7/perks v1.0.1
[0m[91mgo: finding github.com/bgentry/speakeasy v0.1.0
[0m[91mgo: finding github.com/blang/semver v3.5.0+incompatible
[0m[91mgo: finding github.com/client9/misspell v0.3.4
[0m[91mgo: finding github.com/cockroachdb/datadriven v0.0.0-20190809214429-80d97fb3cbaa
[0m[91mgo: finding github.com/coreos/etcd v3.3.10+incompatible
[0m[91mgo: finding github.com/coreos/go-etcd v2.0.0+incompatible
[0m[91mgo: finding github.com/coreos/go-oidc v2.1.0+incompatible
[0m[91mgo: finding github.com/coreos/go-semver v0.3.0
[0m[91mgo: finding github.com/coreos/go-systemd v0.0.0-20190321100706-95778dfbb74e
[0m[91mgo: finding github.com/coreos/pkg v0.0.0-20180108230652-97fdf19511ea
[0m[91mgo: finding github.com/cpuguy83/go-md2man v1.0.10
[0m[91mgo: finding github.com/creack/pty v1.1.7
[0m[91mgo: finding github.com/davecgh/go-spew v1.1.1
[0m[91mgo: finding github.com/dgrijalva/jwt-go v3.2.0+incompatible
[0m[91mgo: finding github.com/docker/docker v0.7.3-0.20190327010347-be7ac8be2ae0
[0m[91mgo: finding github.com/docker/go-units v0.4.0
[0m[91mgo: finding github.com/docker/spdystream v0.0.0-20160310174837-449fdfce4d96
[0m[91mgo: finding github.com/docopt/docopt-go v0.0.0-20180111231733-ee0de3bc6815
[0m[91mgo: finding github.com/dustin/go-humanize v1.0.0
[0m[91mgo: finding github.com/elazarl/goproxy v0.0.0-20170405201442-c4fc26588b6e
[0m[91mgo: finding github.com/emicklei/go-restful v2.9.5+incompatible
[0m[91mgo: finding github.com/evanphx/json-patch v4.5.0+incompatible
[0m[91mgo: finding github.com/fatih/color v1.7.0
[0m[91mgo: finding github.com/fsnotify/fsnotify v1.4.9
[0m[91mgo: finding github.com/ghodss/yaml v1.0.0
[0m[91mgo: finding github.com/globalsign/mgo v0.0.0-20181015135952-eeefdecb41b8
[0m[91mgo: finding github.com/go-kit/kit v0.8.0
[0m[91mgo: finding github.com/go-logfmt/logfmt v0.3.0
[0m[91mgo: finding github.com/go-logr/logr v0.1.0
[0m[91mgo: finding github.com/go-logr/zapr v0.1.0
[0m[91mgo: finding github.com/go-openapi/analysis v0.19.5
[0m[91mgo: finding github.com/go-openapi/errors v0.19.2
[0m[91mgo: finding github.com/go-openapi/jsonpointer v0.19.3
[0m[91mgo: finding github.com/go-openapi/jsonreference v0.19.3
[0m[91mgo: finding github.com/go-openapi/loads v0.19.4
[0m[91mgo: finding github.com/go-openapi/runtime v0.19.4
[0m[91mgo: finding github.com/go-openapi/spec v0.19.3
[0m[91mgo: finding github.com/go-openapi/strfmt v0.19.3
[0m[91mgo: finding github.com/go-openapi/swag v0.19.5
[0m[91mgo: finding github.com/go-openapi/validate v0.19.5
[0m[91mgo: finding github.com/go-stack/stack v1.8.0
[0m[91mgo: finding github.com/gogo/protobuf v1.3.1
[0m[91mgo: finding github.com/golang/glog v0.0.0-20160126235308-23def4e6c14b
[0m[91mgo: finding github.com/golang/groupcache v0.0.0-20190702054246-869f871628b6
[0m[91mgo: finding github.com/golang/mock v1.2.0
[0m[91mgo: finding github.com/golang/protobuf v1.4.2
[0m[91mgo: finding github.com/google/btree v1.0.0
[0m[91mgo: finding github.com/google/go-cmp v0.5.0
[0m[91mgo: finding github.com/google/gofuzz v1.0.0
[0m[91mgo: finding github.com/google/martian v2.1.0+incompatible
[0m[91mgo: finding github.com/google/pprof v0.0.0-20181206194817-3ea8567a2e57
[0m[91mgo: finding github.com/google/renameio v0.1.0
[0m[91mgo: finding github.com/google/uuid v1.1.1
[0m[91mgo: finding github.com/googleapis/gax-go/v2 v2.0.4
[0m[91mgo: finding github.com/googleapis/gnostic v0.3.1
[0m[91mgo: finding github.com/gophercloud/gophercloud v0.1.0
[0m[91mgo: finding github.com/gorilla/websocket v1.4.0
[0m[91mgo: finding github.com/gregjones/httpcache v0.0.0-20180305231024-9cad4c3443a7
[0m[91mgo: finding github.com/grpc-ecosystem/go-grpc-middleware v1.0.1-0.20190118093823-f849b5445de4
[0m[91mgo: finding github.com/grpc-ecosystem/go-grpc-prometheus v1.2.0
[0m[91mgo: finding github.com/grpc-ecosystem/grpc-gateway v1.9.5
[0m[91mgo: finding github.com/hashicorp/golang-lru v0.5.4
[0m[91mgo: finding github.com/hashicorp/hcl v1.0.0
[0m[91mgo: finding github.com/hpcloud/tail v1.0.0
[0m[91mgo: finding github.com/imdario/mergo v0.3.9
[0m[91mgo: finding github.com/inconshreveable/mousetrap v1.0.0
[0m[91mgo: finding github.com/jonboulle/clockwork v0.1.0
[0m[91mgo: finding github.com/json-iterator/go v1.1.10
[0m[91mgo: finding github.com/jstemmer/go-junit-report v0.0.0-20190106144839-af01ea7f8024
[0m[91mgo: finding github.com/julienschmidt/httprouter v1.2.0
[0m[91mgo: finding github.com/kisielk/errcheck v1.2.0
[0m[91mgo: finding github.com/kisielk/gotool v1.0.0
[0m[91mgo: finding github.com/konsorten/go-windows-terminal-sequences v1.0.1
[0m[91mgo: finding github.com/kr/logfmt v0.0.0-20140226030751-b84e30acd515
[0m[91mgo: finding github.com/kr/pretty v0.1.0
[0m[91mgo: finding github.com/kr/pty v1.1.5
[0m[91mgo: finding github.com/kr/text v0.1.0
[0m[91mgo: finding github.com/magiconair/properties v1.8.0
[0m[91mgo: finding github.com/mailru/easyjson v0.7.0
[0m[91mgo: finding github.com/mattn/go-colorable v0.0.9
[0m[91mgo: finding github.com/mattn/go-isatty v0.0.4
[0m[91mgo: finding github.com/mattn/go-runewidth v0.0.2
[0m[91mgo: finding github.com/matttproud/golang_protobuf_extensions v1.0.1
[0m[91mgo: finding github.com/mitchellh/go-homedir v1.1.0
[0m[91mgo: finding github.com/mitchellh/mapstructure v1.1.2
[0m[91mgo: finding github.com/modern-go/concurrent v0.0.0-20180306012644-bacd9c7ef1dd
[0m[91mgo: finding github.com/modern-go/reflect2 v1.0.1
[0m[91mgo: finding github.com/munnerz/goautoneg v0.0.0-20191010083416-a7dc8b61c822
[0m[91mgo: finding github.com/mwitkow/go-conntrack v0.0.0-20161129095857-cc309e4a2223
[0m[91mgo: finding github.com/mxk/go-flowrate v0.0.0-20140419014527-cca7078d478f
[0m[91mgo: finding github.com/nxadm/tail v1.4.4
[0m[91mgo: finding github.com/olekukonko/tablewriter v0.0.0-20170122224234-a0225b3f23b5
[0m[91mgo: finding github.com/onsi/ginkgo v1.14.0
[0m[91mgo: finding github.com/onsi/gomega v1.10.1
[0m[91mgo: finding github.com/pborman/uuid v1.2.0
[0m[91mgo: finding github.com/pelletier/go-toml v1.2.0
[0m[91mgo: finding github.com/peterbourgon/diskv v2.0.1+incompatible
[0m[91mgo: finding github.com/pkg/errors v0.8.1
[0m[91mgo: finding github.com/pmezard/go-difflib v1.0.0
[0m[91mgo: finding github.com/pquerna/cachecontrol v0.0.0-20171018203845-0dec1b30a021
[0m[91mgo: finding github.com/prometheus/client_golang v1.0.0
[0m[91mgo: finding github.com/prometheus/client_model v0.0.0-20190129233127-fd36f4220a90
[0m[91mgo: finding github.com/prometheus/common v0.4.1
[0m[91mgo: finding github.com/prometheus/procfs v0.0.11
[0m[91mgo: finding github.com/remyoudompheng/bigfft v0.0.0-20170806203942-52369c62f446
[0m[91mgo: finding github.com/rogpeppe/fastuuid v0.0.0-20150106093220-6724a57986af
[0m[91mgo: finding github.com/rogpeppe/go-internal v1.3.0
[0m[91mgo: finding github.com/russross/blackfriday v1.5.2
[0m[91mgo: finding github.com/sergi/go-diff v1.0.0
[0m[91mgo: finding github.com/sirupsen/logrus v1.4.2
[0m[91mgo: finding github.com/soheilhy/cmux v0.1.4
[0m[91mgo: finding github.com/spf13/afero v1.2.2
[0m[91mgo: finding github.com/spf13/cast v1.3.0
[0m[91mgo: finding github.com/spf13/cobra v0.0.5
[0m[91mgo: finding github.com/spf13/jwalterweatherman v1.0.0
[0m[91mgo: finding github.com/spf13/pflag v1.0.5
[0m[91mgo: finding github.com/spf13/viper v1.3.2
[0m[91mgo: finding github.com/stretchr/ob** v0.2.0
[0m[91mgo: finding github.com/stretchr/testify v1.4.0
[0m[91mgo: finding github.com/tidwall/pretty v1.0.0
[0m[91mgo: finding github.com/tmc/grpc-websocket-proxy v0.0.0-20170815181823-89b8d40f7ca8
[0m[91mgo: finding github.com/ugorji/go/codec v0.0.0-20181204163529-d75b2dcb6bc8
[0m[91mgo: finding github.com/urfave/cli v1.20.0
[0m[91mgo: finding github.com/vektah/gqlparser v1.1.2
[0m[91mgo: finding github.com/xiang90/probing v0.0.0-20190116061207-43a291ad63a2
[0m[91mgo: finding github.com/xordataexchange/crypt v0.0.3-0.20170626215501-b2862e3d0a77
[0m[91mgo: finding go.etcd.io/bbolt v1.3.3
[0m[91mgo: finding go.etcd.io/etcd v0.0.0-20191023171146-3cf2f69b5738
[0m[91mgo: finding go.mongodb.org/mongo-driver v1.1.2
[0m[91mgo: finding go.opencensus.io v0.21.0
[0m[91mgo: finding go.uber.org/atomic v1.6.0
[0m[91mgo: finding go.uber.org/multierr v1.5.0
[0m[91mgo: finding go.uber.org/tools v0.0.0-20190618225709-2cfd321de3ee
[0m[91mgo: finding go.uber.org/zap v1.15.0
[0m[91mgo: finding golang.org/x/crypto v0.0.0-20200622213623-75b288015ac9
[0m[91mgo: finding golang.org/x/exp v0.0.0-20190312203227-4b39c73a6495
[0m[91mgo: finding golang.org/x/image v0.0.0-20190227222117-0694c2d4d067
[0m[91mgo: finding golang.org/x/lint v0.0.0-20190930215403-16217165b5de
[0m[91mgo: finding golang.org/x/mobile v0.0.0-20190312151609-d3739f865fa6
[0m[91mgo: finding golang.org/x/mod v0.0.0-20190513183733-4bf6d317e70e
[0m[91mgo: finding golang.org/x/net v0.0.0-20200520004742-59133d7f0dd7
[0m[91mgo: finding golang.org/x/oauth2 v0.0.0-20190604053449-0f29369cfe45
[0m[91mgo: finding golang.org/x/sync v0.0.0-20190911185100-cd5d95a43a6e
[0m[91mgo: finding golang.org/x/sys v0.0.0-20200519105757-fe76b779f299
[0m[91mgo: finding golang.org/x/text v0.3.3
[0m[91mgo: finding golang.org/x/time v0.0.0-20190921001708-c4c64cad1fd0
[0m[91mgo: finding golang.org/x/tools v0.0.0-20191029190741-b9c20aec41a5
[0m[91mgo: finding golang.org/x/xerrors v0.0.0-20191204190536-9bdfabe68543
[0m[91mgo: finding gomodules.xyz/jsonpatch/v2 v2.0.1
[0m[91mgo: finding gonum.org/v1/gonum v0.0.0-20190331200053-3d26580ed485
[0m[91mgo: finding gonum.org/v1/netlib v0.0.0-20190331212654-76723241ea4e
[0m[91mgo: finding google.golang.org/api v0.4.0
[0m[91mgo: finding google.golang.org/appengine v1.6.5
[0m[91mgo: finding google.golang.org/genproto v0.0.0-20190916214212-f660b8655731
[0m[91mgo: finding google.golang.org/grpc v1.23.1
[0m[91mgo: finding google.golang.org/protobuf v1.23.0
[0m[91mgo: finding gopkg.in/alecthomas/kingpin.v2 v2.2.6
[0m[91mgo: finding gopkg.in/check.v1 v1.0.0-20190902080502-41f04d3bba15
[0m[91mgo: finding gopkg.in/cheggaaa/pb.v1 v1.0.25
[0m[91mgo: finding gopkg.in/errgo.v2 v2.1.0
[0m[91mgo: finding gopkg.in/fsnotify.v1 v1.4.7
[0m[91mgo: finding gopkg.in/inf.v0 v0.9.1
[0m[91mgo: finding gopkg.in/natefinch/lumberjack.v2 v2.0.0
[0m[91mgo: finding gopkg.in/resty.v1 v1.12.0
[0m[91mgo: finding gopkg.in/square/go-jose.v2 v2.2.2
[0m[91mgo: finding gopkg.in/tomb.v1 v1.0.0-20141024135613-dd632973f1e7
[0m[91mgo: finding gopkg.in/yaml.v2 v2.3.0
[0m[91mgo: finding gotest.tools v2.2.0+incompatible
[0m[91mgo: finding honnef.co/go/tools v0.0.1-2019.2.3
[0m[91mgo: finding istio.io/api v0.0.0-20200513175333-ae3da0d240e3
[0m[91mgo: finding istio.io/client-go v0.0.0-20200513180646-f8d9d8ff84e6
[0m[91mgo: finding istio.io/gogo-genproto v0.0.0-20190930162913-45029607206a
[0m[91mgo: finding k8s.io/api v0.17.8
[0m[91mgo: finding k8s.io/apiextensions-apiserver v0.17.8
[0m[91mgo: finding k8s.io/apimachinery v0.17.8
[0m[91mgo: finding k8s.io/apiserver v0.17.8
[0m[91mgo: finding k8s.io/client-go v0.17.8
[0m[91mgo: finding k8s.io/code-generator v0.17.8
[0m[91mgo: finding k8s.io/component-base v0.17.8
[0m[91mgo: finding k8s.io/gengo v0.0.0-20190822140433-26a664648505
[0m[91mgo: finding k8s.io/klog v1.0.0
[0m[91mgo: finding k8s.io/klog/v2 v2.0.0
[0m[91mgo: finding k8s.io/kube-openapi v0.0.0-20200410145947-bcb3869e6f29
[0m[91mgo: finding k8s.io/utils v0.0.0-20200619165400-6e3d28b6ed19
[0m[91mgo: finding knative.dev/pkg v0.0.0-20200513151758-7b6bb61326ae
[0m[91mgo: finding modernc.org/cc v1.0.0
[0m[91mgo: finding modernc.org/golex v1.0.0
[0m[91mgo: finding modernc.org/mathutil v1.0.0
[0m[91mgo: finding modernc.org/strutil v1.0.0
[0m[91mgo: finding modernc.org/xc v1.0.0
[0m[91mgo: finding sigs.k8s.io/controller-runtime v0.5.8
[0m[91mgo: finding sigs.k8s.io/structured-merge-diff v0.0.0-20190525122527-15d366b2352e
[0m[91mgo: finding sigs.k8s.io/structured-merge-diff/v2 v2.0.1
[0m[91mgo: finding sigs.k8s.io/yaml v1.1.0
[0mRemoving intermediate container 9d71532221fb
 ---> ef0c569e4933
Step 6/22 : COPY main.go main.go
 ---> f7c0b26898b5
Step 7/22 : COPY apis/ apis/
 ---> ba6c19a9c041
Step 8/22 : COPY controllers/ controllers/
 ---> 757026855b72
Step 9/22 : COPY utils/ utils/
 ---> 7e08f0a5b84e
Step 10/22 : COPY constants/ constants/
 ---> a1bb38cd8298
Step 11/22 : COPY client/ client/
 ---> dc6fa25951f8
Step 12/22 : RUN go build -a -o manager main.go
 ---> Running in e28ef613b4f4
Removing intermediate container e28ef613b4f4
 ---> 6048e52ae098
Step 13/22 : FROM gcr.io/distroless/base:latest
latest: Pulling from distroless/base
24f0c933cbef: Pulling fs layer
69e2f037cdb3: Pulling fs layer
24f0c933cbef: Verifying Checksum
24f0c933cbef: Download complete
69e2f037cdb3: Verifying Checksum
24f0c933cbef: Pull complete
69e2f037cdb3: Pull complete
Digest: sha256:2b0a8e9a13dcc168b126778d9e947a7081b4d2ee1ee122830d835f176d0e2a70
Status: Downloaded newer image for gcr.io/distroless/base:latest
 ---> c4c70323b0c2
Step 14/22 : WORKDIR /
 ---> Running in 9ee2e9ac9d95
Removing intermediate container 9ee2e9ac9d95
 ---> 88d9eabadce9
Step 15/22 : COPY --from=builder /workspace/manager .
 ---> a9409f6e6333
Step 16/22 : COPY licenses/license.txt licenses/license.txt
 ---> 9c6264f0c3e6
Step 17/22 : COPY generated/admissionregistration.k8s.io_v1beta1_mutatingwebhookconfiguration_seldon-mutating-webhook-configuration.yaml /tmp/operator-resources/mutate.yaml
 ---> 3fad77ae4189
Step 18/22 : COPY generated/admissionregistration.k8s.io_v1beta1_validatingwebhookconfiguration_seldon-validating-webhook-configuration.yaml /tmp/operator-resources/validate.yaml
 ---> 9f36301a9134
Step 19/22 : COPY generated/~g_v1_service_seldon-webhook-service.yaml /tmp/operator-resources/service.yaml
 ---> 78bb083c8fe2
Step 20/22 : COPY generated/~g_v1_configmap_seldon-config.yaml /tmp/operator-resources/configmap.yaml
 ---> f61b0e7d564e
Step 21/22 : COPY generated/apiextensions.k8s.io_v1beta1_customresourcedefinition_seldondeployments.machinelearning.seldon.io.yaml /tmp/operator-resources/crd.yaml
 ---> eeb6adf638b6
Step 22/22 : ENTRYPOINT ["/manager"]
 ---> Running in 466e77e5d557
Removing intermediate container 466e77e5d557
 ---> bd0044a04ab0
Successfully built bd0044a04ab0
Successfully tagged seldonio/seldon-core-operator:1.2.2-dev
docker save seldonio/seldon-core-operator:1.2.2-dev > operator.tar
kind load image-archive operator.tar --name kind
make[1]: Leaving directory '/workspace/source/operator'
Files changed in engine folder:
SKIPPING ENGINE IMAGE BUILD...
Files changed in executor folder:
SKIPPING EXECUTOR IMAGE BUILD...
Build test models
make -C ../docker/fixed-model kind_load_images
make[1]: Entering directory '/workspace/source/testing/docker/fixed-model'
s2i build -E environment_rest_v1 . seldonio/seldon-core-s2i-python3:0.15 seldonio/fixed-model:0.1
ERROR: Error writing header for "scripts": io: read/write on closed pipe
ERROR: Error writing tar: io: read/write on closed pipe
Build failed
ERROR: An error occurred: context deadline exceeded
make[1]: *** [Makefile:4: build_images] Error 1
make[1]: Leaving directory '/workspace/source/testing/docker/fixed-model'
make: *** [Makefile:24: kind_build_test_models] Error 2
Kind build has errors
kind delete cluster
Deleting cluster "kind" ...
32dafe7441d5
Stopping Docker: dockerProgram process in pidfile '/var/run/docker-ssd.pid', 1 process(es), refused to die.
[31m
Pipeline failed on stage 'end-to-end' : container 'step-test-end-to-end'. The execution of the pipeline has stopped.[0m
