
Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-4b75n-26[0m stage [32mpr-build-comment[0m and container [32mstep-credential-initializer-xcq8x[0m
{"level":"info","ts":1595053290.8452027,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/refs/heads/0.8.0-ns-support: no such file or directory"}
{"level":"info","ts":1595053290.845764,"logger":"fallback-logger","caller":"creds-init/main.go:40","msg":"Credentials initialized."}

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-4b75n-26[0m stage [32mpr-build-comment[0m and container [32mstep-working-dir-initializer-jfd9x[0m
{"level":"info","ts":1595053291.8752384,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1595053291.8772647,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c mkdir -p /workspace/source\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-4b75n-26[0m stage [32mpr-build-comment[0m and container [32mstep-place-tools[0m

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-4b75n-26[0m stage [32mpr-build-comment[0m and container [32mstep-create-dir-workspace-9fgd5[0m
{"level":"info","ts":1595053296.0189116,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1595053296.0207858,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c mkdir -p source\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-4b75n-26[0m stage [32mpr-build-comment[0m and container [32mstep-git-source-seldonio-seldon-core-pr-2149-pr-4b75n-864nl[0m
{"level":"info","ts":1595053296.3178506,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/refs/heads/0.8.0-ns-support: no such file or directory"}
{"level":"info","ts":1595053301.803891,"logger":"fallback-logger","caller":"git/git.go:103","msg":"Successfully cloned https://github.com/SeldonIO/seldon-core.git @ master in path /workspace/source"}

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-4b75n-26[0m stage [32mpr-build-comment[0m and container [32mstep-setup-builder-home[0m

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-4b75n-26[0m stage [32mpr-build-comment[0m and container [32mstep-git-merge[0m
Using SHAs from PULL_REFS=master:296d02420fb3010cbb7155795099d023d9c35e57,2149:90dae5ff01e238b045be87c4579a11785ff11d5b
DEBUG: JX_LOG_LEVEL=error LC_ALL=C git fetch origin --unshallow 90dae5ff01e238b045be87c4579a11785ff11d5b: 296d02420fb3010cbb7155795099d023d9c35e57:
DEBUG: ran git fetch --unshallow origin 90dae5ff01e238b045be87c4579a11785ff11d5b: 296d02420fb3010cbb7155795099d023d9c35e57: in 
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git branch
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git checkout master
DEBUG: ran git checkout master in 
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git reset --hard 296d02420fb3010cbb7155795099d023d9c35e57
DEBUG: ran git reset --hard 296d02420fb3010cbb7155795099d023d9c35e57 in 
DEBUG: JX_LOG_LEVEL=error LC_ALL=C git clean -fd .
DEBUG: ran clean --force -d . in 
DEBUG: JX_LOG_LEVEL=error LC_ALL=C git merge 90dae5ff01e238b045be87c4579a11785ff11d5b
DEBUG: ran git merge 90dae5ff01e238b045be87c4579a11785ff11d5b in 
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git log --format=%H%x1f%an%x1f%ae%x1f%cn%x1f%ce%x1f%s%n%b%x1e 296d02420fb3010cbb7155795099d023d9c35e57..HEAD
Merged SHA 879818c2424dd418502c2f2ee5288d44afe7a66a with commit message 'Merge commit '90dae5ff01e238b045be87c4579a11785ff11d5b'' into base branch master
Merged SHA 90dae5ff01e238b045be87c4579a11785ff11d5b with commit message 'Reverted python' into base branch master
Merged SHA af8d5ee4560a6cb1b1d71ce23f63ad65007f1334 with commit message 'Updated makefiles' into base branch master
Merged SHA a04ed2882adafc5994b239ea12fe2bdf4aec86ee with commit message 'Updated makefiles' into base branch master
Merged SHA 7585c98cc808449df55f276e5624a515fe36e98e with commit message 'Updated makefiles' into base branch master
Merged SHA ad9c917fe8e9413ea362c2796e5941b444a14df5 with commit message 'Updated jenkins files' into base branch master
Merged SHA 65d30326af5493f91324fde169c9f3c49521bdef with commit message 'Updated core builder' into base branch master
Merged SHA 7be1b1c519eb67fb6f17efe0635f1794b8345c81 with commit message 'Testing main comment' into base branch master
Merged SHA aa7524c33f2c1a0e8e504af170597c96a6114af5 with commit message 'Testing main comment' into base branch master
Merged SHA ea7064b58b3154053c131140aa3c99169ea5a0bf with commit message 'Testing main comment' into base branch master
Merged SHA d2bdaebf8a877abbbc11b2213e6a799204d01ffb with commit message 'Testing main comment' into base branch master
Merged SHA 914888dea31b05a61385642addc814d4ec53e207 with commit message 'Added override for temp fast build' into base branch master
Merged SHA 781be799063bf1fc4fab5a8b4d81e11ba76a1cdc with commit message 'Added override for temp fast build' into base branch master
Merged SHA fd73daa0dbf8ea4270effe173563d12e59224bd2 with commit message 'updated pipeline to test other pre/post' into base branch master
Merged SHA 501cbc7f51ddd8d21105eb82eaf0486faf496e58 with commit message 'Fixed formating on yaml' into base branch master
Merged SHA fef171f7d4110d0823798702ba7b3468236cb094 with commit message 'Added pipeline pre/post check' into base branch master

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-4b75n-26[0m stage [32mpr-build-comment[0m and container [32mstep-step2[0m
+++ dirname ./add-pr-build-comment
++ cd .
++ pwd
+ STARTUP_DIR=/workspace/source/ci
+ REPO_OWNER=SeldonIO
+ REPO_NAME=seldon-core
+ PULL_NUMBER=2149
+ BUILD_NUMBER=26
+ PIPELINE_CONTEXT=pr-build
++ cat
+++ date
+ COMMENT_MSG='Sat Jul 18 06:21:49 UTC 2020
The logs for [pr-build] [26] will show after the pipeline context has finished.  
https://github.com/SeldonIO/seldon-core/blob/gh-pages/jenkins-x/logs/SeldonIO/seldon-core/PR-2149/26.log

impatient try  
** get build logs SeldonIO/seldon-core/PR-2149 --build=26'
+ ** step pr comment --owner=SeldonIO --repository=seldon-core --pull-request=2149 '--comment=Sat Jul 18 06:21:49 UTC 2020
The logs for [pr-build] [26] will show after the pipeline context has finished.  
https://github.com/SeldonIO/seldon-core/blob/gh-pages/jenkins-x/logs/SeldonIO/seldon-core/PR-2149/26.log

impatient try  
** get build logs SeldonIO/seldon-core/PR-2149 --build=26'

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-4b75n-26[0m stage [32mpr-build-comment[0m and container [32mstep-source-mkdir-seldonio-seldon-core-pr-2149-pr-4b75n-ml6vn[0m
{"level":"info","ts":1595053311.2745204,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1595053311.2785048,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c mkdir -p /pvc/pr-build-comment/workspace\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-4b75n-26[0m stage [32mpr-build-comment[0m and container [32mstep-source-copy-seldonio-seldon-core-pr-2149-pr-4b75n-4p5mx[0m
{"level":"info","ts":1595053311.5339594,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1595053311.9059138,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c cp -r source/. /pvc/pr-build-comment/workspace\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-4b75n-26[0m stage [32mseldon-operator[0m and container [32mstep-credential-initializer-99js5[0m
{"level":"info","ts":1595053315.5121748,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/refs/heads/0.8.0-ns-support: no such file or directory"}
{"level":"info","ts":1595053315.5126646,"logger":"fallback-logger","caller":"creds-init/main.go:40","msg":"Credentials initialized."}

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-4b75n-26[0m stage [32mseldon-operator[0m and container [32mstep-working-dir-initializer-jmtll[0m
{"level":"info","ts":1595053316.8915844,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1595053316.8929334,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c mkdir -p /workspace/source\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-4b75n-26[0m stage [32mseldon-operator[0m and container [32mstep-place-tools[0m

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-4b75n-26[0m stage [32mseldon-operator[0m and container [32mstep-create-dir-workspace-qzv75[0m
{"level":"info","ts":1595053326.3422687,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1595053326.3445115,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c mkdir -p /workspace/source\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-4b75n-26[0m stage [32mseldon-operator[0m and container [32mstep-source-copy-workspace-9klfs[0m
{"level":"info","ts":1595053326.6130786,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1595053327.7211974,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c cp -r /pvc/pr-build-comment/workspace/. /workspace/source\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-4b75n-26[0m stage [32mseldon-operator[0m and container [32mstep-setup-builder-home[0m

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-4b75n-26[0m stage [32mseldon-operator[0m and container [32mstep-test-operator[0m
make: Entering directory '/workspace/source/operator'
go: creating new go.mod: module tmp
go: finding sigs.k8s.io v0.2.5
go: finding sigs.k8s.io/controller-tools v0.2.5
go: finding sigs.k8s.io/controller-tools/cmd v0.2.5
go: finding sigs.k8s.io/controller-tools/cmd/controller-gen v0.2.5
go: downloading sigs.k8s.io/controller-tools v0.2.5
go: extracting sigs.k8s.io/controller-tools v0.2.5
go: downloading github.com/spf13/cobra v0.0.5
go: downloading k8s.io/apiextensions-apiserver v0.17.0
go: downloading k8s.io/api v0.17.0
go: downloading k8s.io/apimachinery v0.17.0
go: downloading sigs.k8s.io/yaml v1.1.0
go: downloading golang.org/x/tools v0.0.0-20190920225731-5eefd052ad72
go: downloading gopkg.in/yaml.v3 v3.0.0-20190905181640-827449938966
go: extracting sigs.k8s.io/yaml v1.1.0
go: extracting github.com/spf13/cobra v0.0.5
go: extracting gopkg.in/yaml.v3 v3.0.0-20190905181640-827449938966
go: downloading gopkg.in/yaml.v2 v2.2.4
go: extracting k8s.io/apimachinery v0.17.0
go: extracting k8s.io/apiextensions-apiserver v0.17.0
go: extracting gopkg.in/yaml.v2 v2.2.4
go: downloading github.com/spf13/pflag v1.0.5
go: extracting golang.org/x/tools v0.0.0-20190920225731-5eefd052ad72
go: extracting github.com/spf13/pflag v1.0.5
go: downloading github.com/gobuffalo/flect v0.2.0
go: downloading github.com/gogo/protobuf v1.2.2-0.20190723190241-65acae22fc9d
go: downloading github.com/fatih/color v1.7.0
go: extracting github.com/fatih/color v1.7.0
go: downloading github.com/mattn/go-isatty v0.0.8
go: downloading k8s.io/utils v0.0.0-20191114184206-e782cd3c129f
go: downloading github.com/mattn/go-colorable v0.1.2
go: extracting github.com/gobuffalo/flect v0.2.0
go: extracting k8s.io/api v0.17.0
go: downloading k8s.io/klog v1.0.0
go: downloading github.com/inconshreveable/mousetrap v1.0.0
go: extracting github.com/mattn/go-isatty v0.0.8
go: extracting github.com/mattn/go-colorable v0.1.2
go: downloading gopkg.in/inf.v0 v0.9.1
go: downloading github.com/google/gofuzz v1.0.0
go: extracting k8s.io/utils v0.0.0-20191114184206-e782cd3c129f
go: extracting github.com/inconshreveable/mousetrap v1.0.0
go: extracting k8s.io/klog v1.0.0
go: downloading golang.org/x/net v0.0.0-20191004110552-13f9640d40b9
go: extracting gopkg.in/inf.v0 v0.9.1
go: extracting github.com/google/gofuzz v1.0.0
go: downloading golang.org/x/sys v0.0.0-20190826190057-c7b8b68b1456
go: extracting github.com/gogo/protobuf v1.2.2-0.20190723190241-65acae22fc9d
go: extracting golang.org/x/net v0.0.0-20191004110552-13f9640d40b9
go: extracting golang.org/x/sys v0.0.0-20190826190057-c7b8b68b1456
go: downloading golang.org/x/text v0.3.2
go: extracting golang.org/x/text v0.3.2
go: finding k8s.io/api v0.17.0
go: finding k8s.io/apimachinery v0.17.0
go: finding golang.org/x/tools v0.0.0-20190920225731-5eefd052ad72
go: finding github.com/spf13/cobra v0.0.5
go: finding github.com/fatih/color v1.7.0
go: finding github.com/gobuffalo/flect v0.2.0
go: finding k8s.io/apiextensions-apiserver v0.17.0
go: finding github.com/gogo/protobuf v1.2.2-0.20190723190241-65acae22fc9d
go: finding sigs.k8s.io/yaml v1.1.0
go: finding github.com/google/gofuzz v1.0.0
go: finding gopkg.in/inf.v0 v0.9.1
go: finding github.com/spf13/pflag v1.0.5
go: finding github.com/mattn/go-colorable v0.1.2
go: finding gopkg.in/yaml.v3 v3.0.0-20190905181640-827449938966
go: finding github.com/mattn/go-isatty v0.0.8
go: finding k8s.io/klog v1.0.0
go: finding gopkg.in/yaml.v2 v2.2.4
go: finding k8s.io/utils v0.0.0-20191114184206-e782cd3c129f
go: finding golang.org/x/net v0.0.0-20191004110552-13f9640d40b9
go: finding golang.org/x/sys v0.0.0-20190826190057-c7b8b68b1456
go: finding golang.org/x/text v0.3.2
/builder/home/go/bin/controller-gen object:headerFile=./hack/boilerplate.go.txt paths="./..."
go fmt ./...
go vet ./...
go: downloading github.com/onsi/gomega v1.10.1
go: downloading github.com/onsi/ginkgo v1.14.0
go: extracting github.com/onsi/gomega v1.10.1
go: extracting github.com/onsi/ginkgo v1.14.0
go: downloading golang.org/x/xerrors v0.0.0-20191204190536-9bdfabe68543
go: extracting golang.org/x/xerrors v0.0.0-20191204190536-9bdfabe68543
go: downloading github.com/nxadm/tail v1.4.4
go: extracting github.com/nxadm/tail v1.4.4
go: downloading gopkg.in/tomb.v1 v1.0.0-20141024135613-dd632973f1e7
go: downloading github.com/fsnotify/fsnotify v1.4.9
go: extracting gopkg.in/tomb.v1 v1.0.0-20141024135613-dd632973f1e7
go: extracting github.com/fsnotify/fsnotify v1.4.9
/builder/home/go/bin/controller-gen "crd:trivialVersions=true" rbac:roleName=manager-role webhook paths="./..." output:crd:artifacts:config=config/crd/bases
rm -rf generated
mkdir generated
kustomize build config/default/ -o generated
cp generated/apiextensions.k8s.io_v1beta1_customresourcedefinition_seldondeployments.machinelearning.seldon.io.yaml testing/machinelearning.seldon.io_seldondeployments.yaml
ginkgo -r -outputdir=. -cover -coverprofile=cover.out ./controllers ./utils ./apis
[1595053415] [1mController Suite[0m - 37/37 specs test k8s client
&{Reader:0xc000364d80 Writer:0xc000457aa0 StatusClient:0xc000457aa0}
[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0mE0718 06:24:32.371026   22341 reflector.go:309] pkg/mod/k8s.io/client-go@v0.17.8/tools/cache/reflector.go:105: Failed to watch *v1.Deployment: Get http://127.0.0.1:41207/apis/apps/v1/deployments?allowWatchBookmarks=true&resourceVersion=367&timeoutSeconds=395&watch=true: dial tcp 127.0.0.1:41207: connect: connection refused
E0718 06:24:32.372080   22341 reflector.go:309] pkg/mod/k8s.io/client-go@v0.17.8/tools/cache/reflector.go:105: Failed to watch *v1.Service: Get http://127.0.0.1:41207/api/v1/services?allowWatchBookmarks=true&resourceVersion=366&timeoutSeconds=387&watch=true: dial tcp 127.0.0.1:41207: connect: connection refused
E0718 06:24:32.372167   22341 reflector.go:309] pkg/mod/k8s.io/client-go@v0.17.8/tools/cache/reflector.go:105: Failed to watch *v1.Namespace: Get http://127.0.0.1:41207/api/v1/namespaces?allowWatchBookmarks=true&resourceVersion=334&timeoutSeconds=503&watch=true: dial tcp 127.0.0.1:41207: connect: connection refused
E0718 06:24:32.372348   22341 reflector.go:309] pkg/mod/k8s.io/client-go@v0.17.8/tools/cache/reflector.go:105: Failed to watch *v1.SeldonDeployment: Get http://127.0.0.1:41207/apis/machinelearning.seldon.io/v1/seldondeployments?allowWatchBookmarks=true&resourceVersion=373&timeoutSeconds=365&watch=true: dial tcp 127.0.0.1:41207: connect: connection refused
E0718 06:24:32.372443   22341 reflector.go:309] pkg/mod/k8s.io/client-go@v0.17.8/tools/cache/reflector.go:105: Failed to watch *v2beta1.HorizontalPodAutoscaler: Get http://127.0.0.1:41207/apis/autoscaling/v2beta1/horizontalpodautoscalers?allowWatchBookmarks=true&resourceVersion=275&timeoutSeconds=440&watch=true: dial tcp 127.0.0.1:41207: connect: connection refused
E0718 06:24:32.372831   22341 reflector.go:309] pkg/mod/k8s.io/client-go@v0.17.8/tools/cache/reflector.go:105: Failed to watch *v1.ConfigMap: Get http://127.0.0.1:41207/api/v1/configmaps?allowWatchBookmarks=true&resourceVersion=117&timeoutSeconds=384&watch=true: dial tcp 127.0.0.1:41207: connect: connection refused
E0718 06:24:32.372921   22341 reflector.go:309] pkg/mod/k8s.io/client-go@v0.17.8/tools/cache/reflector.go:105: Failed to watch *v1alpha3.VirtualService: Get http://127.0.0.1:41207/apis/networking.istio.io/v1alpha3/virtualservices?allowWatchBookmarks=true&resourceVersion=118&timeoutSeconds=360&watch=true: dial tcp 127.0.0.1:41207: connect: connection refused

 [32mSUCCESS![0m 28.890781233s PASS
coverage: 65.3% of statements
=== RUN   TestGcsSecret
--- PASS: TestGcsSecret (0.00s)
PASS
coverage: 100.0% of statements
=== RUN   TestS3Secret
--- PASS: TestS3Secret (0.00s)
PASS
coverage: 94.6% of statements
=== RUN   TestGetEnvAsBool
--- PASS: TestGetEnvAsBool (0.00s)
PASS
coverage: 10.9% of statements
=== RUN   TestGenerateCerts
--- PASS: TestGenerateCerts (0.92s)
=== RUN   TestConfigmapCreate
--- PASS: TestConfigmapCreate (0.00s)
=== RUN   TestCRDCreate
--- PASS: TestCRDCreate (0.07s)
=== RUN   TestMutatingWebhookCreate
--- PASS: TestMutatingWebhookCreate (1.33s)
=== RUN   TestMutatingWebhookCreateNamespaced
--- PASS: TestMutatingWebhookCreateNamespaced (1.15s)
=== RUN   TestValidatingWebhookCreate
--- PASS: TestValidatingWebhookCreate (2.63s)
=== RUN   TestValidatingWebhookCreateNamespaced
--- PASS: TestValidatingWebhookCreateNamespaced (0.74s)
=== RUN   TestWebHookSvcCreate
--- PASS: TestWebHookSvcCreate (2.03s)
PASS
coverage: 52.1% of statements
=== RUN   TestImageSetNormal
--- PASS: TestImageSetNormal (0.00s)
    prepack_test.go:50: Scenario: GRPC image with version
    prepack_test.go:50: Scenario: GRPC image with no version
    prepack_test.go:50: Scenario: REST image with version
    prepack_test.go:50: Scenario: REST image with no version
=== RUN   TestGetPredictorConfig
--- PASS: TestGetPredictorConfig (0.00s)
    prepack_test.go:81: Scenario: related image sklearn
    prepack_test.go:81: Scenario: default image sklearn
=== RUN   TestGetDeploymentNameOneModel
--- PASS: TestGetDeploymentNameOneModel (0.00s)
=== RUN   TestGetDeploymentNameLong
--- PASS: TestGetDeploymentNameLong (0.00s)
=== RUN   TestValidateBadProtocol
--- PASS: TestValidateBadProtocol (0.00s)
=== RUN   TestValidateBadTransport
--- PASS: TestValidateBadTransport (0.00s)
=== RUN   TestValidateMixedTransport
--- PASS: TestValidateMixedTransport (0.00s)
=== RUN   TestValidateMixedMultipleTransport
--- PASS: TestValidateMixedMultipleTransport (0.00s)
=== RUN   TestDefaultSingleContainer
--- PASS: TestDefaultSingleContainer (0.00s)
=== RUN   TestMetricsPortAddedTwoContainers
--- PASS: TestMetricsPortAddedTwoContainers (0.00s)
=== RUN   TestMetricsPortAddedTwoComponentSpecsTwoContainers
--- PASS: TestMetricsPortAddedTwoComponentSpecsTwoContainers (0.00s)
=== RUN   TestOverrideMetricsPortName
Failed to find config map seldon-config
no kind is registered for the type v1.ConfigMap in scheme "pkg/runtime/scheme.go:101"
--- PASS: TestOverrideMetricsPortName (0.00s)
=== RUN   TestPortUseExisting
--- PASS: TestPortUseExisting (0.00s)
=== RUN   TestMetricsPortAddedToPrepacked
--- PASS: TestMetricsPortAddedToPrepacked (0.00s)
=== RUN   TestPredictorProtocolGrpc
--- PASS: TestPredictorProtocolGrpc (0.00s)
=== RUN   TestPrepackedWithExistingContainer
--- PASS: TestPrepackedWithExistingContainer (0.00s)
=== RUN   TestPrepackedWithCustom
--- PASS: TestPrepackedWithCustom (0.00s)
=== RUN   TestPrepackedWithExistingContainerAndImage
--- PASS: TestPrepackedWithExistingContainerAndImage (0.00s)
=== RUN   TestMetricsPortAddedToTwoPrepacked
--- PASS: TestMetricsPortAddedToTwoPrepacked (0.00s)
=== RUN   TestDefaultPrepackagedServerType
--- PASS: TestDefaultPrepackagedServerType (0.00s)
=== RUN   TestValidateSingleModel
--- PASS: TestValidateSingleModel (0.00s)
=== RUN   TestValidateSingleModelNoName
--- PASS: TestValidateSingleModelNoName (0.00s)
=== RUN   TestValidateNoEngineMultiGraph
--- PASS: TestValidateNoEngineMultiGraph (0.00s)
=== RUN   TestValidateDuplPredictorName
--- PASS: TestValidateDuplPredictorName (0.00s)
=== RUN   TestValidateTrafficSum
--- PASS: TestValidateTrafficSum (0.00s)
=== RUN   TestDefaultABTest
--- PASS: TestDefaultABTest (0.00s)
=== RUN   TestValidateTensorflowProtocolNormalPrepackaged
--- PASS: TestValidateTensorflowProtocolNormalPrepackaged (0.00s)
=== RUN   TestValidateTensorflowProtocolNormal
--- PASS: TestValidateTensorflowProtocolNormal (0.00s)
=== RUN   TestPredictorNoGraph
--- PASS: TestPredictorNoGraph (0.00s)
PASS
coverage: 41.6% of statements
path is /workspace/source/operator
All profiles combined

Ginkgo ran 6 suites in 1m5.831016993s
Test Suite Passed
make: Leaving directory '/workspace/source/operator'

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-4b75n-26[0m stage [32mtest-python[0m and container [32mstep-credential-initializer-xqtcw[0m
{"level":"info","ts":1595053315.055598,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/refs/heads/0.8.0-ns-support: no such file or directory"}
{"level":"info","ts":1595053315.05618,"logger":"fallback-logger","caller":"creds-init/main.go:40","msg":"Credentials initialized."}

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-4b75n-26[0m stage [32mtest-python[0m and container [32mstep-working-dir-initializer-vxcbj[0m
{"level":"info","ts":1595053315.5997117,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1595053315.6008668,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c mkdir -p /workspace/source\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-4b75n-26[0m stage [32mtest-python[0m and container [32mstep-place-tools[0m

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-4b75n-26[0m stage [32mtest-python[0m and container [32mstep-create-dir-workspace-7tpjb[0m
{"level":"info","ts":1595053393.1085572,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1595053393.111392,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c mkdir -p /workspace/source\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-4b75n-26[0m stage [32mtest-python[0m and container [32mstep-source-copy-workspace-dl7m6[0m
{"level":"info","ts":1595053393.3863242,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1595053393.8139346,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c cp -r /pvc/pr-build-comment/workspace/. /workspace/source\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-4b75n-26[0m stage [32mtest-python[0m and container [32mstep-setup-builder-home[0m

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-4b75n-26[0m stage [32mtest-python[0m and container [32mstep-test-python[0m
make: Entering directory '/workspace/source/python'
# Protobuf
cp ../proto/prediction.proto seldon_core/proto/
make -C ../proto/tensorflow/ create_protos
make[1]: Entering directory '/workspace/source/proto/tensorflow'
./create-protos.sh
Downloading proto files for master
make[1]: Leaving directory '/workspace/source/proto/tensorflow'
cp -r ../proto/tensorflow/tensorflow \
	seldon_core/proto/
make -C ../proto/tensorflow clean
make[1]: Entering directory '/workspace/source/proto/tensorflow'
removed 'tensorflow/core/framework/resource_handle.proto'
removed 'tensorflow/core/framework/tensor_shape.proto'
removed 'tensorflow/core/framework/tensor.proto'
removed 'tensorflow/core/framework/types.proto'
removed directory 'tensorflow/core/framework'
removed directory 'tensorflow/core'
removed directory 'tensorflow'
make[1]: Leaving directory '/workspace/source/proto/tensorflow'
# OpenAPI
cp ../openapi/wrapper.oas3.json seldon_core/openapi/seldon.json
# Protobuf
cd seldon_core && python \
	-m grpc.tools.protoc \
	-I./ \
	-I./proto/ \
	--python_out=./ \
	--grpc_python_out=./ \
	--mypy_out=./ \
	./proto/prediction.proto
protoc-gen-mypy: program not found or is not executable
Please specify a program using absolute path or make sure the program is available in your PATH system variable
--mypy_out: protoc-gen-mypy: Plugin failed with status code 1.
make: *** [Makefile:19: build_apis] Error 1
make: Leaving directory '/workspace/source/python'
[31m
Pipeline failed on stage 'test-python' : container 'step-test-python'. The execution of the pipeline has stopped.[0m

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-4b75n-26[0m stage [32mseldon-executor[0m and container [32mstep-credential-initializer-rlw42[0m
{"level":"info","ts":1595053316.5129693,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/refs/heads/0.8.0-ns-support: no such file or directory"}
{"level":"info","ts":1595053316.5136383,"logger":"fallback-logger","caller":"creds-init/main.go:40","msg":"Credentials initialized."}

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-4b75n-26[0m stage [32mseldon-executor[0m and container [32mstep-working-dir-initializer-rqxgl[0m
{"level":"info","ts":1595053316.9195051,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1595053316.9215817,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c mkdir -p /workspace/source\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-4b75n-26[0m stage [32mseldon-executor[0m and container [32mstep-place-tools[0m

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-4b75n-26[0m stage [32mseldon-executor[0m and container [32mstep-create-dir-workspace-lmn8s[0m
{"level":"info","ts":1595053324.3255537,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1595053324.3270254,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c mkdir -p /workspace/source\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-4b75n-26[0m stage [32mseldon-executor[0m and container [32mstep-source-copy-workspace-tblc4[0m
{"level":"info","ts":1595053324.6060326,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1595053325.002224,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c cp -r /pvc/pr-build-comment/workspace/. /workspace/source\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-4b75n-26[0m stage [32mseldon-executor[0m and container [32mstep-setup-builder-home[0m

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-4b75n-26[0m stage [32mseldon-executor[0m and container [32mstep-test-executor[0m
make: Entering directory '/workspace/source/executor'
go fmt ./api/... ./predictor/... ./k8s/...
go: downloading github.com/go-logr/logr v0.1.0
go: downloading sigs.k8s.io/controller-runtime v0.5.8
go: downloading github.com/google/uuid v1.1.1
go: downloading google.golang.org/grpc v1.30.0
go: downloading github.com/uber/jaeger-client-go v2.24.0+incompatible
go: downloading github.com/pkg/errors v0.9.1
go: downloading github.com/grpc-ecosystem/go-grpc-middleware v1.2.0
go: downloading github.com/opentracing/opentracing-go v1.2.0
go: extracting github.com/go-logr/logr v0.1.0
go: extracting github.com/google/uuid v1.1.1
go: downloading github.com/prometheus/client_golang v1.7.1
go: extracting github.com/pkg/errors v0.9.1
go: downloading k8s.io/apimachinery v0.17.8
go: extracting github.com/grpc-ecosystem/go-grpc-middleware v1.2.0
go: extracting github.com/opentracing/opentracing-go v1.2.0
go: downloading github.com/golang/protobuf v1.4.2
go: extracting github.com/uber/jaeger-client-go v2.24.0+incompatible
go: extracting sigs.k8s.io/controller-runtime v0.5.8
go: downloading gomodules.xyz/jsonpatch/v2 v2.0.1
go: downloading github.com/gorilla/mux v1.7.4
go: extracting google.golang.org/grpc v1.30.0
go: downloading github.com/cloudevents/sdk-go v1.2.0
go: downloading k8s.io/api v0.17.8
go: extracting k8s.io/apimachinery v0.17.8
go: extracting github.com/prometheus/client_golang v1.7.1
go: extracting gomodules.xyz/jsonpatch/v2 v2.0.1
go: extracting github.com/gorilla/mux v1.7.4
go: extracting github.com/golang/protobuf v1.4.2
go: downloading google.golang.org/genproto v0.0.0-20190916214212-f660b8655731
go: downloading github.com/prometheus/client_model v0.2.0
go: downloading go.uber.org/zap v1.15.0
go: downloading github.com/prometheus/common v0.10.0
go: downloading google.golang.org/protobuf v1.23.0
go: downloading github.com/uber/jaeger-lib v2.2.0+incompatible
go: extracting github.com/cloudevents/sdk-go v1.2.0
go: extracting github.com/prometheus/client_model v0.2.0
go: downloading k8s.io/client-go v0.17.8
go: extracting github.com/uber/jaeger-lib v2.2.0+incompatible
go: extracting github.com/prometheus/common v0.10.0
go: extracting go.uber.org/zap v1.15.0
go: downloading github.com/beorn7/perks v1.0.1
go: extracting github.com/beorn7/perks v1.0.1
go: extracting google.golang.org/protobuf v1.23.0
go: extracting k8s.io/api v0.17.8
go: extracting k8s.io/client-go v0.17.8
go: downloading github.com/google/gofuzz v1.0.0
go: downloading go.uber.org/atomic v1.6.0
go: downloading k8s.io/klog v1.0.0
go: extracting github.com/google/gofuzz v1.0.0
go: extracting k8s.io/klog v1.0.0
go: downloading github.com/gogo/protobuf v1.3.1
go: extracting go.uber.org/atomic v1.6.0
go: downloading go.opencensus.io v0.22.0
go: extracting google.golang.org/genproto v0.0.0-20190916214212-f660b8655731
go: extracting go.opencensus.io v0.22.0
go: extracting github.com/gogo/protobuf v1.3.1
go: downloading golang.org/x/net v0.0.0-20200520004742-59133d7f0dd7
go: downloading golang.org/x/oauth2 v0.0.0-20190604053449-0f29369cfe45
go: downloading github.com/spf13/pflag v1.0.5
go: downloading github.com/googleapis/gnostic v0.3.1
go: downloading k8s.io/utils v0.0.0-20200619165400-6e3d28b6ed19
go: downloading gopkg.in/fsnotify.v1 v1.4.7
go: extracting github.com/spf13/pflag v1.0.5
go: extracting gopkg.in/fsnotify.v1 v1.4.7
go: extracting golang.org/x/oauth2 v0.0.0-20190604053449-0f29369cfe45
go: downloading github.com/prometheus/procfs v0.1.3
go: extracting k8s.io/utils v0.0.0-20200619165400-6e3d28b6ed19
go: downloading golang.org/x/xerrors v0.0.0-20191204190536-9bdfabe68543
go: extracting golang.org/x/xerrors v0.0.0-20191204190536-9bdfabe68543
go: downloading github.com/matttproud/golang_protobuf_extensions v1.0.1
go: downloading go.uber.org/multierr v1.5.0
go: downloading golang.org/x/sys v0.0.0-20200615200032-f1bc736245b1
go: extracting github.com/prometheus/procfs v0.1.3
go: extracting go.uber.org/multierr v1.5.0
go: extracting github.com/matttproud/golang_protobuf_extensions v1.0.1
go: downloading github.com/hashicorp/golang-lru v0.5.4
go: extracting github.com/googleapis/gnostic v0.3.1
go: extracting github.com/hashicorp/golang-lru v0.5.4
go: downloading gopkg.in/inf.v0 v0.9.1
go: extracting gopkg.in/inf.v0 v0.9.1
go: downloading golang.org/x/time v0.0.0-20190921001708-c4c64cad1fd0
go: downloading github.com/davecgh/go-spew v1.1.1
go: extracting golang.org/x/time v0.0.0-20190921001708-c4c64cad1fd0
go: downloading github.com/modern-go/reflect2 v1.0.1
go: extracting github.com/davecgh/go-spew v1.1.1
go: downloading github.com/evanphx/json-patch v4.5.0+incompatible
go: downloading github.com/cespare/xxhash/v2 v2.1.1
go: extracting github.com/modern-go/reflect2 v1.0.1
go: downloading k8s.io/klog/v2 v2.0.0
go: extracting golang.org/x/net v0.0.0-20200520004742-59133d7f0dd7
go: downloading github.com/go-logr/zapr v0.1.0
go: downloading sigs.k8s.io/yaml v1.1.0
go: extracting github.com/evanphx/json-patch v4.5.0+incompatible
go: extracting golang.org/x/sys v0.0.0-20200615200032-f1bc736245b1
go: extracting github.com/cespare/xxhash/v2 v2.1.1
go: extracting github.com/go-logr/zapr v0.1.0
go: extracting sigs.k8s.io/yaml v1.1.0
go: downloading github.com/google/go-cmp v0.5.0
go: downloading gopkg.in/yaml.v2 v2.3.0
go: extracting k8s.io/klog/v2 v2.0.0
go: downloading golang.org/x/crypto v0.0.0-20200622213623-75b288015ac9
go: downloading github.com/modern-go/concurrent v0.0.0-20180306012644-bacd9c7ef1dd
go: downloading k8s.io/kube-openapi v0.0.0-20200410145947-bcb3869e6f29
go: downloading github.com/golang/groupcache v0.0.0-20190702054246-869f871628b6
go: downloading github.com/json-iterator/go v1.1.10
go: downloading k8s.io/apiextensions-apiserver v0.17.8
go: extracting gopkg.in/yaml.v2 v2.3.0
go: extracting github.com/google/go-cmp v0.5.0
go: downloading golang.org/x/text v0.3.3
go: downloading github.com/imdario/mergo v0.3.9
go: extracting github.com/modern-go/concurrent v0.0.0-20180306012644-bacd9c7ef1dd
go: extracting golang.org/x/crypto v0.0.0-20200622213623-75b288015ac9
go: extracting github.com/golang/groupcache v0.0.0-20190702054246-869f871628b6
go: extracting k8s.io/apiextensions-apiserver v0.17.8
go: extracting github.com/json-iterator/go v1.1.10
go: extracting github.com/imdario/mergo v0.3.9
go: extracting k8s.io/kube-openapi v0.0.0-20200410145947-bcb3869e6f29
go: downloading github.com/lightstep/tracecontext.go v0.0.0-20181129014701-1757c391b1ac
go: extracting github.com/lightstep/tracecontext.go v0.0.0-20181129014701-1757c391b1ac
go: extracting golang.org/x/text v0.3.3
go: finding golang.org/x/xerrors v0.0.0-20191204190536-9bdfabe68543
go: finding github.com/go-logr/logr v0.1.0
go: finding github.com/uber/jaeger-client-go v2.24.0+incompatible
go: finding github.com/golang/protobuf v1.4.2
go: finding github.com/google/uuid v1.1.1
go: finding github.com/opentracing/opentracing-go v1.2.0
go: finding github.com/prometheus/client_golang v1.7.1
go: finding github.com/grpc-ecosystem/go-grpc-middleware v1.2.0
go: finding google.golang.org/grpc v1.30.0
go: finding sigs.k8s.io/controller-runtime v0.5.8
go: finding github.com/pkg/errors v0.9.1
go: finding google.golang.org/protobuf v1.23.0
go: finding github.com/cloudevents/sdk-go v1.2.0
go: finding google.golang.org/genproto v0.0.0-20190916214212-f660b8655731
go: finding k8s.io/api v0.17.8
go: finding k8s.io/apimachinery v0.17.8
go: finding github.com/beorn7/perks v1.0.1
go: finding github.com/cespare/xxhash/v2 v2.1.1
go: finding github.com/gorilla/mux v1.7.4
go: finding golang.org/x/net v0.0.0-20200520004742-59133d7f0dd7
go: finding github.com/go-logr/zapr v0.1.0
go: finding github.com/prometheus/client_model v0.2.0
go: finding github.com/uber/jaeger-lib v2.2.0+incompatible
go: finding github.com/prometheus/common v0.10.0
go: finding go.uber.org/zap v1.15.0
go: finding github.com/gogo/protobuf v1.3.1
go: finding github.com/spf13/pflag v1.0.5
go: finding github.com/prometheus/procfs v0.1.3
go: finding go.opencensus.io v0.22.0
go: finding github.com/google/gofuzz v1.0.0
go: finding gopkg.in/inf.v0 v0.9.1
go: finding github.com/evanphx/json-patch v4.5.0+incompatible
go: finding github.com/lightstep/tracecontext.go v0.0.0-20181129014701-1757c391b1ac
go: finding go.uber.org/atomic v1.6.0
go: finding k8s.io/client-go v0.17.8
go: finding go.uber.org/multierr v1.5.0
go: finding github.com/matttproud/golang_protobuf_extensions v1.0.1
go: finding gomodules.xyz/jsonpatch/v2 v2.0.1
go: finding k8s.io/klog v1.0.0
go: finding k8s.io/utils v0.0.0-20200619165400-6e3d28b6ed19
go: finding golang.org/x/time v0.0.0-20190921001708-c4c64cad1fd0
go: finding github.com/imdario/mergo v0.3.9
go: finding golang.org/x/sys v0.0.0-20200615200032-f1bc736245b1
go: finding golang.org/x/crypto v0.0.0-20200622213623-75b288015ac9
go: finding github.com/hashicorp/golang-lru v0.5.4
go: finding github.com/golang/groupcache v0.0.0-20190702054246-869f871628b6
go: finding gopkg.in/fsnotify.v1 v1.4.7
go: finding github.com/json-iterator/go v1.1.10
go: finding github.com/googleapis/gnostic v0.3.1
go: finding golang.org/x/text v0.3.3
go: finding k8s.io/apiextensions-apiserver v0.17.8
go: finding github.com/modern-go/reflect2 v1.0.1
go: finding sigs.k8s.io/yaml v1.1.0
go: finding k8s.io/kube-openapi v0.0.0-20200410145947-bcb3869e6f29
go: finding github.com/modern-go/concurrent v0.0.0-20180306012644-bacd9c7ef1dd
go: finding gopkg.in/yaml.v2 v2.3.0
go: finding github.com/davecgh/go-spew v1.1.1
go: finding golang.org/x/oauth2 v0.0.0-20190604053449-0f29369cfe45
go: finding github.com/google/go-cmp v0.5.0
go: finding k8s.io/klog/v2 v2.0.0
go vet ./api/... ./predictor/... ./k8s/...
go: downloading github.com/onsi/gomega v1.10.1
go: downloading gotest.tools v2.2.0+incompatible
go: extracting gotest.tools v2.2.0+incompatible
go: extracting github.com/onsi/gomega v1.10.1
go: finding github.com/onsi/gomega v1.10.1
go: finding gotest.tools v2.2.0+incompatible
go test ./api/... ./predictor/... ./k8s/... -coverprofile cover.out
?   	github.com/seldonio/seldon-core/executor/api	[no test files]
?   	github.com/seldonio/seldon-core/executor/api/client	[no test files]
ok  	github.com/seldonio/seldon-core/executor/api/grpc	0.127s	coverage: 18.0% of statements
ok  	github.com/seldonio/seldon-core/executor/api/grpc/seldon	1.195s	coverage: 48.5% of statements
?   	github.com/seldonio/seldon-core/executor/api/grpc/seldon/proto	[no test files]
?   	github.com/seldonio/seldon-core/executor/api/grpc/seldon/test	[no test files]
ok  	github.com/seldonio/seldon-core/executor/api/grpc/tensorflow	0.089s	coverage: 19.0% of statements
ok  	github.com/seldonio/seldon-core/executor/api/metric	0.109s	coverage: 31.6% of statements
ok  	github.com/seldonio/seldon-core/executor/api/payload	0.022s	coverage: 64.3% of statements
ok  	github.com/seldonio/seldon-core/executor/api/rest	1.102s	coverage: 67.4% of statements
?   	github.com/seldonio/seldon-core/executor/api/test	[no test files]
ok  	github.com/seldonio/seldon-core/executor/api/tracing	0.019s	coverage: 72.2% of statements
ok  	github.com/seldonio/seldon-core/executor/api/util	0.057s	coverage: 48.1% of statements
ok  	github.com/seldonio/seldon-core/executor/predictor	0.195s	coverage: 78.5% of statements
ok  	github.com/seldonio/seldon-core/executor/k8s	0.056s	coverage: 72.7% of statements
make: Leaving directory '/workspace/source/executor'
