
Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-q84xc-29[0m stage [32mpr-build-comment[0m and container [32mstep-credential-initializer-5hl6k[0m
{"level":"info","ts":1595055433.103084,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/refs/heads/0.8.0-ns-support: no such file or directory"}
{"level":"info","ts":1595055433.1037078,"logger":"fallback-logger","caller":"creds-init/main.go:40","msg":"Credentials initialized."}

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-q84xc-29[0m stage [32mpr-build-comment[0m and container [32mstep-working-dir-initializer-b6zkf[0m
{"level":"info","ts":1595055434.1282737,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1595055434.1298168,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c mkdir -p /workspace/source\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-q84xc-29[0m stage [32mpr-build-comment[0m and container [32mstep-place-tools[0m

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-q84xc-29[0m stage [32mpr-build-comment[0m and container [32mstep-create-dir-workspace-nbzp5[0m
{"level":"info","ts":1595055439.3273184,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1595055439.3291957,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c mkdir -p source\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-q84xc-29[0m stage [32mpr-build-comment[0m and container [32mstep-git-source-seldonio-seldon-core-pr-2149-pr-q84xc-ktq6c[0m
{"level":"info","ts":1595055439.5671594,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/refs/heads/0.8.0-ns-support: no such file or directory"}
{"level":"info","ts":1595055444.4023302,"logger":"fallback-logger","caller":"git/git.go:103","msg":"Successfully cloned https://github.com/SeldonIO/seldon-core.git @ master in path /workspace/source"}

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-q84xc-29[0m stage [32mpr-build-comment[0m and container [32mstep-setup-builder-home[0m

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-q84xc-29[0m stage [32mpr-build-comment[0m and container [32mstep-git-merge[0m
Using SHAs from PULL_REFS=master:296d02420fb3010cbb7155795099d023d9c35e57,2149:90dae5ff01e238b045be87c4579a11785ff11d5b
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git fetch origin --unshallow 90dae5ff01e238b045be87c4579a11785ff11d5b: 296d02420fb3010cbb7155795099d023d9c35e57:
DEBUG: ran git fetch --unshallow origin 90dae5ff01e238b045be87c4579a11785ff11d5b: 296d02420fb3010cbb7155795099d023d9c35e57: in 
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git branch
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git checkout master
DEBUG: ran git checkout master in 
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git reset --hard 296d02420fb3010cbb7155795099d023d9c35e57
DEBUG: ran git reset --hard 296d02420fb3010cbb7155795099d023d9c35e57 in 
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git clean -fd .
DEBUG: ran clean --force -d . in 
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git merge 90dae5ff01e238b045be87c4579a11785ff11d5b
DEBUG: ran git merge 90dae5ff01e238b045be87c4579a11785ff11d5b in 
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git log --format=%H%x1f%an%x1f%ae%x1f%cn%x1f%ce%x1f%s%n%b%x1e 296d02420fb3010cbb7155795099d023d9c35e57..HEAD
Merged SHA 793df981d8bfb57316c006d3a2904d86b16fdbb6 with commit message 'Merge commit '90dae5ff01e238b045be87c4579a11785ff11d5b'' into base branch master
Merged SHA 90dae5ff01e238b045be87c4579a11785ff11d5b with commit message 'Reverted python' into base branch master
Merged SHA af8d5ee4560a6cb1b1d71ce23f63ad65007f1334 with commit message 'Updated makefiles' into base branch master
Merged SHA a04ed2882adafc5994b239ea12fe2bdf4aec86ee with commit message 'Updated makefiles' into base branch master
Merged SHA 7585c98cc808449df55f276e5624a515fe36e98e with commit message 'Updated makefiles' into base branch master
Merged SHA ad9c917fe8e9413ea362c2796e5941b444a14df5 with commit message 'Updated jenkins files' into base branch master
Merged SHA 65d30326af5493f91324fde169c9f3c49521bdef with commit message 'Updated core builder' into base branch master
Merged SHA 7be1b1c519eb67fb6f17efe0635f1794b8345c81 with commit message 'Testing main comment' into base branch master
Merged SHA aa7524c33f2c1a0e8e504af170597c96a6114af5 with commit message 'Testing main comment' into base branch master
Merged SHA ea7064b58b3154053c131140aa3c99169ea5a0bf with commit message 'Testing main comment' into base branch master
Merged SHA d2bdaebf8a877abbbc11b2213e6a799204d01ffb with commit message 'Testing main comment' into base branch master
Merged SHA 914888dea31b05a61385642addc814d4ec53e207 with commit message 'Added override for temp fast build' into base branch master
Merged SHA 781be799063bf1fc4fab5a8b4d81e11ba76a1cdc with commit message 'Added override for temp fast build' into base branch master
Merged SHA fd73daa0dbf8ea4270effe173563d12e59224bd2 with commit message 'updated pipeline to test other pre/post' into base branch master
Merged SHA 501cbc7f51ddd8d21105eb82eaf0486faf496e58 with commit message 'Fixed formating on yaml' into base branch master
Merged SHA fef171f7d4110d0823798702ba7b3468236cb094 with commit message 'Added pipeline pre/post check' into base branch master

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-q84xc-29[0m stage [32mpr-build-comment[0m and container [32mstep-step2[0m
+++ dirname ./add-pr-build-comment
++ cd .
++ pwd
+ STARTUP_DIR=/workspace/source/ci
+ REPO_OWNER=SeldonIO
+ REPO_NAME=seldon-core
+ PULL_NUMBER=2149
+ BUILD_NUMBER=29
+ PIPELINE_CONTEXT=pr-build
++ cat
+++ date
+ COMMENT_MSG='Sat Jul 18 06:57:31 UTC 2020
The logs for [pr-build] [29] will show after the pipeline context has finished.  
https://github.com/SeldonIO/seldon-core/blob/gh-pages/jenkins-x/logs/SeldonIO/seldon-core/PR-2149/29.log

impatient try  
** get build logs SeldonIO/seldon-core/PR-2149 --build=29'
+ ** step pr comment --owner=SeldonIO --repository=seldon-core --pull-request=2149 '--comment=Sat Jul 18 06:57:31 UTC 2020
The logs for [pr-build] [29] will show after the pipeline context has finished.  
https://github.com/SeldonIO/seldon-core/blob/gh-pages/jenkins-x/logs/SeldonIO/seldon-core/PR-2149/29.log

impatient try  
** get build logs SeldonIO/seldon-core/PR-2149 --build=29'

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-q84xc-29[0m stage [32mpr-build-comment[0m and container [32mstep-source-mkdir-seldonio-seldon-core-pr-2149-pr-q84xc-56f4n[0m
{"level":"info","ts":1595055453.5142782,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1595055453.518169,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c mkdir -p /pvc/pr-build-comment/workspace\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-q84xc-29[0m stage [32mpr-build-comment[0m and container [32mstep-source-copy-seldonio-seldon-core-pr-2149-pr-q84xc-k4gxk[0m
{"level":"info","ts":1595055453.7679331,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1595055454.1478517,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c cp -r source/. /pvc/pr-build-comment/workspace\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-q84xc-29[0m stage [32mseldon-operator[0m and container [32mstep-credential-initializer-d77rc[0m
{"level":"info","ts":1595055458.4761777,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/refs/heads/0.8.0-ns-support: no such file or directory"}
{"level":"info","ts":1595055458.4769187,"logger":"fallback-logger","caller":"creds-init/main.go:40","msg":"Credentials initialized."}

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-q84xc-29[0m stage [32mseldon-operator[0m and container [32mstep-working-dir-initializer-lj4ls[0m
{"level":"info","ts":1595055459.6784415,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1595055459.680383,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c mkdir -p /workspace/source\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-q84xc-29[0m stage [32mseldon-operator[0m and container [32mstep-place-tools[0m

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-q84xc-29[0m stage [32mseldon-operator[0m and container [32mstep-create-dir-workspace-qgqv2[0m
{"level":"info","ts":1595055466.869819,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1595055466.8712318,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c mkdir -p /workspace/source\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-q84xc-29[0m stage [32mseldon-operator[0m and container [32mstep-source-copy-workspace-gv7jr[0m
{"level":"info","ts":1595055467.1311953,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1595055467.502719,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c cp -r /pvc/pr-build-comment/workspace/. /workspace/source\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-q84xc-29[0m stage [32mseldon-operator[0m and container [32mstep-setup-builder-home[0m

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-q84xc-29[0m stage [32mseldon-operator[0m and container [32mstep-test-operator[0m
make: Entering directory '/workspace/source/operator'
go: creating new go.mod: module tmp
go: finding sigs.k8s.io v0.2.5
go: finding sigs.k8s.io/controller-tools/cmd v0.2.5
go: finding sigs.k8s.io/controller-tools/cmd/controller-gen v0.2.5
go: finding sigs.k8s.io/controller-tools v0.2.5
go: downloading sigs.k8s.io/controller-tools v0.2.5
go: extracting sigs.k8s.io/controller-tools v0.2.5
go: downloading k8s.io/apimachinery v0.17.0
go: downloading golang.org/x/tools v0.0.0-20190920225731-5eefd052ad72
go: downloading sigs.k8s.io/yaml v1.1.0
go: downloading github.com/spf13/cobra v0.0.5
go: downloading k8s.io/apiextensions-apiserver v0.17.0
go: downloading github.com/gobuffalo/flect v0.2.0
go: downloading k8s.io/api v0.17.0
go: extracting github.com/gobuffalo/flect v0.2.0
go: extracting sigs.k8s.io/yaml v1.1.0
go: downloading github.com/fatih/color v1.7.0
go: extracting github.com/spf13/cobra v0.0.5
go: extracting github.com/fatih/color v1.7.0
go: downloading github.com/mattn/go-colorable v0.1.2
go: downloading gopkg.in/yaml.v3 v3.0.0-20190905181640-827449938966
go: extracting github.com/mattn/go-colorable v0.1.2
go: extracting gopkg.in/yaml.v3 v3.0.0-20190905181640-827449938966
go: downloading github.com/inconshreveable/mousetrap v1.0.0
go: extracting k8s.io/apimachinery v0.17.0
go: extracting github.com/inconshreveable/mousetrap v1.0.0
go: downloading github.com/spf13/pflag v1.0.5
go: extracting k8s.io/apiextensions-apiserver v0.17.0
go: extracting github.com/spf13/pflag v1.0.5
go: downloading github.com/mattn/go-isatty v0.0.8
go: extracting github.com/mattn/go-isatty v0.0.8
go: downloading golang.org/x/sys v0.0.0-20190826190057-c7b8b68b1456
go: downloading gopkg.in/yaml.v2 v2.2.4
go: downloading github.com/gogo/protobuf v1.2.2-0.20190723190241-65acae22fc9d
go: downloading k8s.io/utils v0.0.0-20191114184206-e782cd3c129f
go: downloading github.com/google/gofuzz v1.0.0
go: extracting golang.org/x/tools v0.0.0-20190920225731-5eefd052ad72
go: downloading k8s.io/klog v1.0.0
go: extracting gopkg.in/yaml.v2 v2.2.4
go: extracting github.com/google/gofuzz v1.0.0
go: downloading gopkg.in/inf.v0 v0.9.1
go: extracting k8s.io/klog v1.0.0
go: extracting k8s.io/utils v0.0.0-20191114184206-e782cd3c129f
go: downloading golang.org/x/net v0.0.0-20191004110552-13f9640d40b9
go: extracting gopkg.in/inf.v0 v0.9.1
go: extracting k8s.io/api v0.17.0
go: extracting golang.org/x/sys v0.0.0-20190826190057-c7b8b68b1456
go: extracting golang.org/x/net v0.0.0-20191004110552-13f9640d40b9
go: extracting github.com/gogo/protobuf v1.2.2-0.20190723190241-65acae22fc9d
go: downloading golang.org/x/text v0.3.2
go: extracting golang.org/x/text v0.3.2
go: finding github.com/spf13/cobra v0.0.5
go: finding github.com/fatih/color v1.7.0
go: finding gopkg.in/yaml.v3 v3.0.0-20190905181640-827449938966
go: finding k8s.io/apimachinery v0.17.0
go: finding k8s.io/api v0.17.0
go: finding golang.org/x/tools v0.0.0-20190920225731-5eefd052ad72
go: finding github.com/gobuffalo/flect v0.2.0
go: finding k8s.io/apiextensions-apiserver v0.17.0
go: finding github.com/mattn/go-colorable v0.1.2
go: finding github.com/mattn/go-isatty v0.0.8
go: finding github.com/spf13/pflag v1.0.5
go: finding sigs.k8s.io/yaml v1.1.0
go: finding github.com/gogo/protobuf v1.2.2-0.20190723190241-65acae22fc9d
go: finding github.com/google/gofuzz v1.0.0
go: finding gopkg.in/inf.v0 v0.9.1
go: finding golang.org/x/sys v0.0.0-20190826190057-c7b8b68b1456
go: finding k8s.io/klog v1.0.0
go: finding k8s.io/utils v0.0.0-20191114184206-e782cd3c129f
go: finding gopkg.in/yaml.v2 v2.2.4
go: finding golang.org/x/net v0.0.0-20191004110552-13f9640d40b9
go: finding golang.org/x/text v0.3.2
/builder/home/go/bin/controller-gen object:headerFile=./hack/boilerplate.go.txt paths="./..."
go fmt ./...
go vet ./...
go: downloading github.com/onsi/ginkgo v1.14.0
go: downloading github.com/onsi/gomega v1.10.1
go: extracting github.com/onsi/ginkgo v1.14.0
go: extracting github.com/onsi/gomega v1.10.1
go: downloading golang.org/x/xerrors v0.0.0-20191204190536-9bdfabe68543
go: extracting golang.org/x/xerrors v0.0.0-20191204190536-9bdfabe68543
go: downloading github.com/nxadm/tail v1.4.4
go: extracting github.com/nxadm/tail v1.4.4
go: downloading github.com/fsnotify/fsnotify v1.4.9
go: downloading gopkg.in/tomb.v1 v1.0.0-20141024135613-dd632973f1e7
go: extracting gopkg.in/tomb.v1 v1.0.0-20141024135613-dd632973f1e7
go: extracting github.com/fsnotify/fsnotify v1.4.9
/builder/home/go/bin/controller-gen "crd:trivialVersions=true" rbac:roleName=manager-role webhook paths="./..." output:crd:artifacts:config=config/crd/bases
rm -rf generated
mkdir generated
kustomize build config/default/ -o generated
cp generated/apiextensions.k8s.io_v1beta1_customresourcedefinition_seldondeployments.machinelearning.seldon.io.yaml testing/machinelearning.seldon.io_seldondeployments.yaml
ginkgo -r -outputdir=. -cover -coverprofile=cover.out ./controllers ./utils ./apis
[1595055547] [1mController Suite[0m - 37/37 specs test k8s client
&{Reader:0xc00030c9c0 Writer:0xc00021e2d0 StatusClient:0xc00021e2d0}
[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0m[32m•[0mE0718 06:59:57.659363   22290 reflector.go:309] pkg/mod/k8s.io/client-go@v0.17.8/tools/cache/reflector.go:105: Failed to watch *v1.Service: Get http://127.0.0.1:36453/api/v1/services?allowWatchBookmarks=true&resourceVersion=368&timeoutSeconds=384&watch=true: dial tcp 127.0.0.1:36453: connect: connection refused
E0718 06:59:57.659429   22290 reflector.go:309] pkg/mod/k8s.io/client-go@v0.17.8/tools/cache/reflector.go:105: Failed to watch *v1.Namespace: Get http://127.0.0.1:36453/api/v1/namespaces?allowWatchBookmarks=true&resourceVersion=359&timeoutSeconds=440&watch=true: dial tcp 127.0.0.1:36453: connect: connection refused
E0718 06:59:57.659511   22290 reflector.go:309] pkg/mod/k8s.io/client-go@v0.17.8/tools/cache/reflector.go:105: Failed to watch *v2beta1.HorizontalPodAutoscaler: Get http://127.0.0.1:36453/apis/autoscaling/v2beta1/horizontalpodautoscalers?allowWatchBookmarks=true&resourceVersion=276&timeoutSeconds=395&watch=true: dial tcp 127.0.0.1:36453: connect: connection refused
E0718 06:59:57.660032   22290 reflector.go:309] pkg/mod/k8s.io/client-go@v0.17.8/tools/cache/reflector.go:105: Failed to watch *v1.SeldonDeployment: Get http://127.0.0.1:36453/apis/machinelearning.seldon.io/v1/seldondeployments?allowWatchBookmarks=true&resourceVersion=379&timeoutSeconds=365&watch=true: dial tcp 127.0.0.1:36453: connect: connection refused
E0718 06:59:57.660051   22290 reflector.go:309] pkg/mod/k8s.io/client-go@v0.17.8/tools/cache/reflector.go:105: Failed to watch *v1alpha3.VirtualService: Get http://127.0.0.1:36453/apis/networking.istio.io/v1alpha3/virtualservices?allowWatchBookmarks=true&resourceVersion=118&timeoutSeconds=503&watch=true: dial tcp 127.0.0.1:36453: connect: connection refused
E0718 06:59:57.660084   22290 reflector.go:309] pkg/mod/k8s.io/client-go@v0.17.8/tools/cache/reflector.go:105: Failed to watch *v1.ConfigMap: Get http://127.0.0.1:36453/api/v1/configmaps?allowWatchBookmarks=true&resourceVersion=117&timeoutSeconds=360&watch=true: dial tcp 127.0.0.1:36453: connect: connection refused
E0718 06:59:57.660087   22290 reflector.go:309] pkg/mod/k8s.io/client-go@v0.17.8/tools/cache/reflector.go:105: Failed to watch *v1.Deployment: Get http://127.0.0.1:36453/apis/apps/v1/deployments?allowWatchBookmarks=true&resourceVersion=372&timeoutSeconds=387&watch=true: dial tcp 127.0.0.1:36453: connect: connection refused

 [32mSUCCESS![0m 24.457296282s PASS
coverage: 65.3% of statements
=== RUN   TestGcsSecret
--- PASS: TestGcsSecret (0.00s)
PASS
coverage: 100.0% of statements
=== RUN   TestS3Secret
--- PASS: TestS3Secret (0.00s)
PASS
coverage: 94.6% of statements
=== RUN   TestGetEnvAsBool
--- PASS: TestGetEnvAsBool (0.00s)
PASS
coverage: 10.9% of statements
=== RUN   TestGenerateCerts
--- PASS: TestGenerateCerts (3.51s)
=== RUN   TestConfigmapCreate
--- PASS: TestConfigmapCreate (0.00s)
=== RUN   TestCRDCreate
--- PASS: TestCRDCreate (0.09s)
=== RUN   TestMutatingWebhookCreate
--- PASS: TestMutatingWebhookCreate (5.47s)
=== RUN   TestMutatingWebhookCreateNamespaced
--- PASS: TestMutatingWebhookCreateNamespaced (7.41s)
=== RUN   TestValidatingWebhookCreate
--- PASS: TestValidatingWebhookCreate (0.82s)
=== RUN   TestValidatingWebhookCreateNamespaced
--- PASS: TestValidatingWebhookCreateNamespaced (1.82s)
=== RUN   TestWebHookSvcCreate
--- PASS: TestWebHookSvcCreate (1.76s)
PASS
coverage: 52.1% of statements
=== RUN   TestImageSetNormal
--- PASS: TestImageSetNormal (0.00s)
    prepack_test.go:50: Scenario: GRPC image with version
    prepack_test.go:50: Scenario: GRPC image with no version
    prepack_test.go:50: Scenario: REST image with version
    prepack_test.go:50: Scenario: REST image with no version
=== RUN   TestGetPredictorConfig
--- PASS: TestGetPredictorConfig (0.00s)
    prepack_test.go:81: Scenario: related image sklearn
    prepack_test.go:81: Scenario: default image sklearn
=== RUN   TestGetDeploymentNameOneModel
--- PASS: TestGetDeploymentNameOneModel (0.00s)
=== RUN   TestGetDeploymentNameLong
--- PASS: TestGetDeploymentNameLong (0.00s)
=== RUN   TestValidateBadProtocol
--- PASS: TestValidateBadProtocol (0.00s)
=== RUN   TestValidateBadTransport
--- PASS: TestValidateBadTransport (0.00s)
=== RUN   TestValidateMixedTransport
--- PASS: TestValidateMixedTransport (0.00s)
=== RUN   TestValidateMixedMultipleTransport
--- PASS: TestValidateMixedMultipleTransport (0.00s)
=== RUN   TestDefaultSingleContainer
--- PASS: TestDefaultSingleContainer (0.00s)
=== RUN   TestMetricsPortAddedTwoContainers
--- PASS: TestMetricsPortAddedTwoContainers (0.00s)
=== RUN   TestMetricsPortAddedTwoComponentSpecsTwoContainers
--- PASS: TestMetricsPortAddedTwoComponentSpecsTwoContainers (0.00s)
=== RUN   TestOverrideMetricsPortName
Failed to find config map seldon-config
no kind is registered for the type v1.ConfigMap in scheme "pkg/runtime/scheme.go:101"
--- PASS: TestOverrideMetricsPortName (0.00s)
=== RUN   TestPortUseExisting
--- PASS: TestPortUseExisting (0.00s)
=== RUN   TestMetricsPortAddedToPrepacked
--- PASS: TestMetricsPortAddedToPrepacked (0.00s)
=== RUN   TestPredictorProtocolGrpc
--- PASS: TestPredictorProtocolGrpc (0.00s)
=== RUN   TestPrepackedWithExistingContainer
--- PASS: TestPrepackedWithExistingContainer (0.00s)
=== RUN   TestPrepackedWithCustom
--- PASS: TestPrepackedWithCustom (0.00s)
=== RUN   TestPrepackedWithExistingContainerAndImage
--- PASS: TestPrepackedWithExistingContainerAndImage (0.00s)
=== RUN   TestMetricsPortAddedToTwoPrepacked
--- PASS: TestMetricsPortAddedToTwoPrepacked (0.00s)
=== RUN   TestDefaultPrepackagedServerType
--- PASS: TestDefaultPrepackagedServerType (0.00s)
=== RUN   TestValidateSingleModel
--- PASS: TestValidateSingleModel (0.00s)
=== RUN   TestValidateSingleModelNoName
--- PASS: TestValidateSingleModelNoName (0.00s)
=== RUN   TestValidateNoEngineMultiGraph
--- PASS: TestValidateNoEngineMultiGraph (0.00s)
=== RUN   TestValidateDuplPredictorName
--- PASS: TestValidateDuplPredictorName (0.00s)
=== RUN   TestValidateTrafficSum
--- PASS: TestValidateTrafficSum (0.00s)
=== RUN   TestDefaultABTest
--- PASS: TestDefaultABTest (0.00s)
=== RUN   TestValidateTensorflowProtocolNormalPrepackaged
--- PASS: TestValidateTensorflowProtocolNormalPrepackaged (0.01s)
=== RUN   TestValidateTensorflowProtocolNormal
--- PASS: TestValidateTensorflowProtocolNormal (0.00s)
=== RUN   TestPredictorNoGraph
--- PASS: TestPredictorNoGraph (0.00s)
PASS
coverage: 41.6% of statements
path is /workspace/source/operator
All profiles combined

Ginkgo ran 6 suites in 1m11.304675698s
Test Suite Passed
make: Leaving directory '/workspace/source/operator'

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-q84xc-29[0m stage [32mtest-python[0m and container [32mstep-credential-initializer-5vj5z[0m
{"level":"info","ts":1595055457.262768,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/refs/heads/0.8.0-ns-support: no such file or directory"}
{"level":"info","ts":1595055457.2634914,"logger":"fallback-logger","caller":"creds-init/main.go:40","msg":"Credentials initialized."}

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-q84xc-29[0m stage [32mtest-python[0m and container [32mstep-working-dir-initializer-kfz27[0m
{"level":"info","ts":1595055458.2937326,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1595055458.2957575,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c mkdir -p /workspace/source\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-q84xc-29[0m stage [32mtest-python[0m and container [32mstep-place-tools[0m

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-q84xc-29[0m stage [32mtest-python[0m and container [32mstep-create-dir-workspace-j8lkv[0m
{"level":"info","ts":1595055467.7751708,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1595055467.7774506,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c mkdir -p /workspace/source\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-q84xc-29[0m stage [32mtest-python[0m and container [32mstep-source-copy-workspace-9qw6h[0m
{"level":"info","ts":1595055468.043774,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1595055468.4274619,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c cp -r /pvc/pr-build-comment/workspace/. /workspace/source\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-q84xc-29[0m stage [32mtest-python[0m and container [32mstep-setup-builder-home[0m

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-q84xc-29[0m stage [32mtest-python[0m and container [32mstep-test-python[0m
make: Entering directory '/workspace/source/python'
# Protobuf
cp ../proto/prediction.proto seldon_core/proto/
make -C ../proto/tensorflow/ create_protos
make[1]: Entering directory '/workspace/source/proto/tensorflow'
./create-protos.sh
Downloading proto files for master
make[1]: Leaving directory '/workspace/source/proto/tensorflow'
cp -r ../proto/tensorflow/tensorflow \
	seldon_core/proto/
make -C ../proto/tensorflow clean
make[1]: Entering directory '/workspace/source/proto/tensorflow'
removed 'tensorflow/core/framework/resource_handle.proto'
removed 'tensorflow/core/framework/tensor_shape.proto'
removed 'tensorflow/core/framework/tensor.proto'
removed 'tensorflow/core/framework/types.proto'
removed directory 'tensorflow/core/framework'
removed directory 'tensorflow/core'
removed directory 'tensorflow'
make[1]: Leaving directory '/workspace/source/proto/tensorflow'
# OpenAPI
cp ../openapi/wrapper.oas3.json seldon_core/openapi/seldon.json
# Protobuf
cd seldon_core && python \
	-m grpc.tools.protoc \
	-I./ \
	-I./proto/ \
	--python_out=./ \
	--grpc_python_out=./ \
	--mypy_out=./ \
	./proto/prediction.proto
protoc-gen-mypy: program not found or is not executable
Please specify a program using absolute path or make sure the program is available in your PATH system variable
--mypy_out: protoc-gen-mypy: Plugin failed with status code 1.
make: *** [Makefile:19: build_apis] Error 1
make: Leaving directory '/workspace/source/python'
[31m
Pipeline failed on stage 'test-python' : container 'step-test-python'. The execution of the pipeline has stopped.[0m

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-q84xc-29[0m stage [32mseldon-executor[0m and container [32mstep-credential-initializer-nls5k[0m
{"level":"info","ts":1595055459.6802332,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/refs/heads/0.8.0-ns-support: no such file or directory"}
{"level":"info","ts":1595055459.6806967,"logger":"fallback-logger","caller":"creds-init/main.go:40","msg":"Credentials initialized."}

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-q84xc-29[0m stage [32mseldon-executor[0m and container [32mstep-working-dir-initializer-q9klt[0m
{"level":"info","ts":1595055460.7644985,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1595055460.766329,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c mkdir -p /workspace/source\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-q84xc-29[0m stage [32mseldon-executor[0m and container [32mstep-place-tools[0m

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-q84xc-29[0m stage [32mseldon-executor[0m and container [32mstep-create-dir-workspace-xdjtn[0m
{"level":"info","ts":1595055471.0469677,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1595055471.0486329,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c mkdir -p /workspace/source\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-q84xc-29[0m stage [32mseldon-executor[0m and container [32mstep-source-copy-workspace-vvpcp[0m
{"level":"info","ts":1595055471.3142068,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1595055472.0593944,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c cp -r /pvc/pr-build-comment/workspace/. /workspace/source\"; output "}

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-q84xc-29[0m stage [32mseldon-executor[0m and container [32mstep-setup-builder-home[0m

Showing logs for build [32mseldonio-seldon-core-pr-2149-pr-q84xc-29[0m stage [32mseldon-executor[0m and container [32mstep-test-executor[0m
make: Entering directory '/workspace/source/executor'
go fmt ./api/... ./predictor/... ./k8s/...
go: downloading github.com/go-logr/logr v0.1.0
go: downloading sigs.k8s.io/controller-runtime v0.5.8
go: downloading k8s.io/apimachinery v0.17.8
go: downloading google.golang.org/grpc v1.30.0
go: downloading github.com/grpc-ecosystem/go-grpc-middleware v1.2.0
go: downloading github.com/golang/protobuf v1.4.2
go: extracting github.com/go-logr/logr v0.1.0
go: extracting github.com/grpc-ecosystem/go-grpc-middleware v1.2.0
go: extracting github.com/golang/protobuf v1.4.2
go: downloading github.com/opentracing/opentracing-go v1.2.0
go: extracting sigs.k8s.io/controller-runtime v0.5.8
go: extracting github.com/opentracing/opentracing-go v1.2.0
go: downloading k8s.io/api v0.17.8
go: extracting k8s.io/apimachinery v0.17.8
go: extracting google.golang.org/grpc v1.30.0
go: downloading github.com/cloudevents/sdk-go v1.2.0
go: downloading github.com/gogo/protobuf v1.3.1
go: downloading k8s.io/client-go v0.17.8
go: downloading golang.org/x/time v0.0.0-20190921001708-c4c64cad1fd0
go: extracting github.com/cloudevents/sdk-go v1.2.0
go: downloading gomodules.xyz/jsonpatch/v2 v2.0.1
go: extracting golang.org/x/time v0.0.0-20190921001708-c4c64cad1fd0
go: downloading google.golang.org/protobuf v1.23.0
go: downloading k8s.io/klog v1.0.0
go: extracting gomodules.xyz/jsonpatch/v2 v2.0.1
go: downloading golang.org/x/net v0.0.0-20200520004742-59133d7f0dd7
go: extracting k8s.io/klog v1.0.0
go: extracting k8s.io/client-go v0.17.8
go: extracting k8s.io/api v0.17.8
go: extracting google.golang.org/protobuf v1.23.0
go: extracting golang.org/x/net v0.0.0-20200520004742-59133d7f0dd7
go: extracting github.com/gogo/protobuf v1.3.1
go: downloading github.com/pkg/errors v0.9.1
go: downloading github.com/imdario/mergo v0.3.9
go: extracting github.com/pkg/errors v0.9.1
go: downloading k8s.io/utils v0.0.0-20200619165400-6e3d28b6ed19
go: downloading golang.org/x/crypto v0.0.0-20200622213623-75b288015ac9
go: downloading go.uber.org/zap v1.15.0
go: downloading google.golang.org/genproto v0.0.0-20190916214212-f660b8655731
go: extracting github.com/imdario/mergo v0.3.9
go: downloading github.com/gorilla/mux v1.7.4
go: extracting k8s.io/utils v0.0.0-20200619165400-6e3d28b6ed19
go: extracting go.uber.org/zap v1.15.0
go: extracting github.com/gorilla/mux v1.7.4
go: downloading go.opencensus.io v0.22.0
go: downloading golang.org/x/oauth2 v0.0.0-20190604053449-0f29369cfe45
go: extracting golang.org/x/oauth2 v0.0.0-20190604053449-0f29369cfe45
go: extracting go.opencensus.io v0.22.0
go: downloading github.com/prometheus/client_golang v1.7.1
go: downloading github.com/spf13/pflag v1.0.5
go: downloading github.com/golang/groupcache v0.0.0-20190702054246-869f871628b6
go: extracting github.com/spf13/pflag v1.0.5
go: extracting github.com/golang/groupcache v0.0.0-20190702054246-869f871628b6
go: extracting github.com/prometheus/client_golang v1.7.1
go: downloading go.uber.org/atomic v1.6.0
go: extracting golang.org/x/crypto v0.0.0-20200622213623-75b288015ac9
go: downloading go.uber.org/multierr v1.5.0
go: extracting go.uber.org/atomic v1.6.0
go: extracting go.uber.org/multierr v1.5.0
go: downloading k8s.io/apiextensions-apiserver v0.17.8
go: downloading golang.org/x/xerrors v0.0.0-20191204190536-9bdfabe68543
go: downloading github.com/evanphx/json-patch v4.5.0+incompatible
go: downloading github.com/prometheus/common v0.10.0
go: extracting github.com/evanphx/json-patch v4.5.0+incompatible
go: extracting golang.org/x/xerrors v0.0.0-20191204190536-9bdfabe68543
go: downloading github.com/lightstep/tracecontext.go v0.0.0-20181129014701-1757c391b1ac
go: downloading github.com/googleapis/gnostic v0.3.1
go: downloading github.com/google/uuid v1.1.1
go: extracting github.com/lightstep/tracecontext.go v0.0.0-20181129014701-1757c391b1ac
go: downloading sigs.k8s.io/yaml v1.1.0
go: downloading github.com/davecgh/go-spew v1.1.1
go: downloading github.com/prometheus/client_model v0.2.0
go: extracting github.com/prometheus/common v0.10.0
go: extracting k8s.io/apiextensions-apiserver v0.17.8
go: extracting github.com/google/uuid v1.1.1
go: downloading github.com/modern-go/reflect2 v1.0.1
go: extracting github.com/davecgh/go-spew v1.1.1
go: extracting github.com/prometheus/client_model v0.2.0
go: extracting sigs.k8s.io/yaml v1.1.0
go: downloading gopkg.in/fsnotify.v1 v1.4.7
go: extracting github.com/modern-go/reflect2 v1.0.1
go: downloading github.com/google/gofuzz v1.0.0
go: downloading k8s.io/kube-openapi v0.0.0-20200410145947-bcb3869e6f29
go: downloading github.com/go-logr/zapr v0.1.0
go: extracting gopkg.in/fsnotify.v1 v1.4.7
go: extracting github.com/googleapis/gnostic v0.3.1
go: extracting github.com/google/gofuzz v1.0.0
go: downloading golang.org/x/sys v0.0.0-20200615200032-f1bc736245b1
go: extracting github.com/go-logr/zapr v0.1.0
go: downloading github.com/modern-go/concurrent v0.0.0-20180306012644-bacd9c7ef1dd
go: downloading github.com/json-iterator/go v1.1.10
go: downloading github.com/matttproud/golang_protobuf_extensions v1.0.1
go: extracting github.com/modern-go/concurrent v0.0.0-20180306012644-bacd9c7ef1dd
go: downloading gopkg.in/inf.v0 v0.9.1
go: downloading github.com/hashicorp/golang-lru v0.5.4
go: extracting github.com/json-iterator/go v1.1.10
go: extracting github.com/matttproud/golang_protobuf_extensions v1.0.1
go: extracting github.com/hashicorp/golang-lru v0.5.4
go: extracting gopkg.in/inf.v0 v0.9.1
go: downloading github.com/google/go-cmp v0.5.0
go: downloading github.com/beorn7/perks v1.0.1
go: downloading github.com/uber/jaeger-client-go v2.24.0+incompatible
go: extracting github.com/beorn7/perks v1.0.1
go: downloading golang.org/x/text v0.3.3
go: downloading k8s.io/klog/v2 v2.0.0
go: extracting github.com/google/go-cmp v0.5.0
go: downloading gopkg.in/yaml.v2 v2.3.0
go: extracting k8s.io/klog/v2 v2.0.0
go: extracting k8s.io/kube-openapi v0.0.0-20200410145947-bcb3869e6f29
go: downloading github.com/prometheus/procfs v0.1.3
go: extracting github.com/uber/jaeger-client-go v2.24.0+incompatible
go: extracting gopkg.in/yaml.v2 v2.3.0
go: downloading github.com/cespare/xxhash/v2 v2.1.1
go: extracting github.com/cespare/xxhash/v2 v2.1.1
go: downloading github.com/uber/jaeger-lib v2.2.0+incompatible
go: extracting github.com/prometheus/procfs v0.1.3
go: extracting golang.org/x/sys v0.0.0-20200615200032-f1bc736245b1
go: extracting github.com/uber/jaeger-lib v2.2.0+incompatible
go: extracting google.golang.org/genproto v0.0.0-20190916214212-f660b8655731
go: extracting golang.org/x/text v0.3.3
go: finding golang.org/x/xerrors v0.0.0-20191204190536-9bdfabe68543
go: finding github.com/prometheus/client_golang v1.7.1
go: finding github.com/go-logr/logr v0.1.0
go: finding github.com/opentracing/opentracing-go v1.2.0
go: finding github.com/uber/jaeger-client-go v2.24.0+incompatible
go: finding google.golang.org/grpc v1.30.0
go: finding github.com/golang/protobuf v1.4.2
go: finding github.com/google/uuid v1.1.1
go: finding github.com/pkg/errors v0.9.1
go: finding github.com/cloudevents/sdk-go v1.2.0
go: finding github.com/grpc-ecosystem/go-grpc-middleware v1.2.0
go: finding sigs.k8s.io/controller-runtime v0.5.8
go: finding google.golang.org/protobuf v1.23.0
go: finding github.com/gorilla/mux v1.7.4
go: finding google.golang.org/genproto v0.0.0-20190916214212-f660b8655731
go: finding k8s.io/api v0.17.8
go: finding github.com/beorn7/perks v1.0.1
go: finding k8s.io/apimachinery v0.17.8
go: finding github.com/cespare/xxhash/v2 v2.1.1
go: finding github.com/prometheus/client_model v0.2.0
go: finding golang.org/x/net v0.0.0-20200520004742-59133d7f0dd7
go: finding github.com/gogo/protobuf v1.3.1
go: finding go.uber.org/zap v1.15.0
go: finding github.com/uber/jaeger-lib v2.2.0+incompatible
go: finding github.com/prometheus/common v0.10.0
go: finding go.opencensus.io v0.22.0
go: finding github.com/go-logr/zapr v0.1.0
go: finding github.com/prometheus/procfs v0.1.3
go: finding github.com/lightstep/tracecontext.go v0.0.0-20181129014701-1757c391b1ac
go: finding github.com/spf13/pflag v1.0.5
go: finding github.com/google/gofuzz v1.0.0
go: finding gopkg.in/inf.v0 v0.9.1
go: finding k8s.io/client-go v0.17.8
go: finding go.uber.org/atomic v1.6.0
go: finding github.com/evanphx/json-patch v4.5.0+incompatible
go: finding go.uber.org/multierr v1.5.0
go: finding github.com/hashicorp/golang-lru v0.5.4
go: finding gomodules.xyz/jsonpatch/v2 v2.0.1
go: finding k8s.io/klog v1.0.0
go: finding github.com/matttproud/golang_protobuf_extensions v1.0.1
go: finding k8s.io/utils v0.0.0-20200619165400-6e3d28b6ed19
go: finding golang.org/x/time v0.0.0-20190921001708-c4c64cad1fd0
go: finding golang.org/x/sys v0.0.0-20200615200032-f1bc736245b1
go: finding golang.org/x/crypto v0.0.0-20200622213623-75b288015ac9
go: finding gopkg.in/fsnotify.v1 v1.4.7
go: finding github.com/golang/groupcache v0.0.0-20190702054246-869f871628b6
go: finding github.com/imdario/mergo v0.3.9
go: finding github.com/googleapis/gnostic v0.3.1
go: finding github.com/modern-go/reflect2 v1.0.1
go: finding k8s.io/apiextensions-apiserver v0.17.8
go: finding golang.org/x/text v0.3.3
go: finding github.com/json-iterator/go v1.1.10
go: finding sigs.k8s.io/yaml v1.1.0
go: finding github.com/davecgh/go-spew v1.1.1
go: finding golang.org/x/oauth2 v0.0.0-20190604053449-0f29369cfe45
go: finding k8s.io/kube-openapi v0.0.0-20200410145947-bcb3869e6f29
go: finding gopkg.in/yaml.v2 v2.3.0
go: finding github.com/modern-go/concurrent v0.0.0-20180306012644-bacd9c7ef1dd
go: finding github.com/google/go-cmp v0.5.0
go: finding k8s.io/klog/v2 v2.0.0
go vet ./api/... ./predictor/... ./k8s/...
go: downloading github.com/onsi/gomega v1.10.1
go: downloading gotest.tools v2.2.0+incompatible
go: extracting gotest.tools v2.2.0+incompatible
go: extracting github.com/onsi/gomega v1.10.1
go: finding github.com/onsi/gomega v1.10.1
go: finding gotest.tools v2.2.0+incompatible
go test ./api/... ./predictor/... ./k8s/... -coverprofile cover.out
?   	github.com/seldonio/seldon-core/executor/api	[no test files]
?   	github.com/seldonio/seldon-core/executor/api/client	[no test files]
ok  	github.com/seldonio/seldon-core/executor/api/grpc	0.209s	coverage: 18.0% of statements
ok  	github.com/seldonio/seldon-core/executor/api/grpc/seldon	1.252s	coverage: 48.5% of statements
?   	github.com/seldonio/seldon-core/executor/api/grpc/seldon/proto	[no test files]
?   	github.com/seldonio/seldon-core/executor/api/grpc/seldon/test	[no test files]
ok  	github.com/seldonio/seldon-core/executor/api/grpc/tensorflow	0.398s	coverage: 19.0% of statements
ok  	github.com/seldonio/seldon-core/executor/api/metric	0.115s	coverage: 31.6% of statements
ok  	github.com/seldonio/seldon-core/executor/api/payload	0.142s	coverage: 64.3% of statements
ok  	github.com/seldonio/seldon-core/executor/api/rest	1.091s	coverage: 67.4% of statements
?   	github.com/seldonio/seldon-core/executor/api/test	[no test files]
ok  	github.com/seldonio/seldon-core/executor/api/tracing	0.008s	coverage: 72.2% of statements
ok  	github.com/seldonio/seldon-core/executor/api/util	0.043s	coverage: 48.1% of statements
ok  	github.com/seldonio/seldon-core/executor/predictor	0.114s	coverage: 78.5% of statements
ok  	github.com/seldonio/seldon-core/executor/k8s	0.058s	coverage: 72.7% of statements
make: Leaving directory '/workspace/source/executor'
