// [START declaration]
syntax = "proto3";

package seldon.protos;
// [END declaration]

// [START java_declaration]
option java_package = "io.seldon.protos";
option java_outer_classname = "PredictionProtos";
// [END java_declaration]

// [START messages]


// [START default data]

message DefaultDataDef {
  repeated string names = 1;
  repeated DefaultDataValues values = 2;
}

message DefaultDataValues {
  repeated double value = 1;
}

// [END default data]


// [START Prediction Request]

message PredictionRequestDef {

  PredictionRequestMetaDef meta = 1;
  oneof request_oneof {
    DefaultDataDef request = 2;
    bytes binRequest = 3;
    string strRequest = 4;
  }

}

message PredictionRequestMetaDef {
  string puid = 1; 
}


// [END Prediction Request]


// [START Prediction Response]

message PredictionResponseDef {

  PredictionStatusDef status = 1;
  PredictionResponseMetaDef meta = 2;
  oneof response_oneof {
    DefaultDataDef response = 3;
    bytes binResponse = 4;
    string strResponse = 5;
  }
}

message PredictionStatusDef {

    enum Status {
        SUCCESS = 0;
        FAILURE = 1;
    }

    int32 code = 1;
    string info = 2;
    string reason = 3;
    Status status = 4;
}

message PredictionResponseMetaDef {
  string puid = 1; 
  repeated string model = 2;
}


// [END Prediction Response]

// [START Feedback]

message PredictionFeedbackDef {

  PredictionResponseMetaDef meta = 1;
  float reward = 2;
  oneof feedback_oneof {
    DefaultDataDef response = 3;
    bytes binResponse = 4;
    string strResponse = 5;
  }
}

// [END Feedback]






